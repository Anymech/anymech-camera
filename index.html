{\rtf1\ansi\ansicpg1252\cocoartf2639
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;\f1\fnil\fcharset0 AppleColorEmoji;}
{\colortbl;\red255\green255\blue255;\red109\green109\blue109;\red246\green247\blue249;\red251\green0\blue7;
\red46\green49\blue51;\red42\green42\blue42;\red20\green67\blue174;\red18\green115\blue126;\red162\green0\blue16;
\red97\green3\blue173;\red19\green118\blue70;\red9\green60\blue148;\red77\green80\blue85;\red21\green98\blue39;
\red24\green25\blue27;\red186\green6\blue115;}
{\*\expandedcolortbl;;\cssrgb\c50196\c50196\c50196;\cssrgb\c97255\c97647\c98039;\cssrgb\c100000\c0\c0;
\cssrgb\c23529\c25098\c26275;\cssrgb\c21961\c21961\c21961;\cssrgb\c9412\c35294\c73725;\cssrgb\c3529\c52157\c56863;\cssrgb\c70196\c7843\c7059;
\cssrgb\c46275\c15294\c73333;\cssrgb\c3529\c52549\c34510;\cssrgb\c1569\c31765\c64706;\cssrgb\c37255\c38824\c40784;\cssrgb\c7451\c45098\c20000;
\cssrgb\c12549\c12941\c14118;\cssrgb\c78824\c15294\c52549;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs26 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 <!doctype\cf4 \strokec4  html\cf2 \strokec2 >\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 <\cf7 \strokec7 html\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cf6 \cb3 \strokec6 <\cf7 \strokec7 head\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3   \cf6 \strokec6 <\cf7 \strokec7 meta\cf5 \strokec5  \cf8 \strokec8 charset\cf6 \strokec6 =\cf9 \strokec9 "utf-8"\cf5 \strokec5  \cf6 \strokec6 />\cf5 \cb1 \strokec5 \
\cb3   \cf6 \strokec6 <\cf7 \strokec7 meta\cf5 \strokec5  \cf8 \strokec8 name\cf6 \strokec6 =\cf9 \strokec9 "viewport"\cf5 \strokec5  \cf8 \strokec8 content\cf6 \strokec6 =\cf9 \strokec9 "width=device-width, initial-scale=1"\cf5 \strokec5  \cf6 \strokec6 />\cf5 \cb1 \strokec5 \
\cb3   \cf6 \strokec6 <\cf7 \strokec7 title\cf6 \strokec6 >\cf5 \strokec5 Anymech Live Capture\cf6 \strokec6 </\cf7 \strokec7 title\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3   \cf6 \strokec6 <\cf7 \strokec7 style\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 body\cf5 \strokec5 \{\cf8 \strokec8 font-family:\cf9 \strokec9 system-ui\cf5 \strokec5 ,\cf9 \strokec9 Arial\cf5 \strokec5 ;\cf8 \strokec8 margin:\cf11 \strokec11 16px\cf5 \strokec5 ;\cf8 \strokec8 max-width:\cf11 \strokec11 900px\cf5 \strokec5 \}\cb1 \
\
\cb3     \cf10 \strokec10 .appFrame\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 border:\cf11 \strokec11 1px\cf5 \strokec5  \cf9 \strokec9 solid\cf5 \strokec5  \cf12 \strokec12 #e6e6e6\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 box-shadow:\cf11 \strokec11 0\cf5 \strokec5  \cf11 \strokec11 14px\cf5 \strokec5  \cf11 \strokec11 40px\cf5 \strokec5  \cf9 \strokec9 rgba(\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0.10\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf12 \strokec12 #fff\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf10 \strokec10 .brandTitle\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 color:\cf12 \strokec12 #0b5ed7\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 letter-spacing:\cf11 \strokec11 0.6px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin:\cf11 \strokec11 0\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5  \cf11 \strokec11 10px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 text-align:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  FULL SCREEN CAMERA PREVIEW */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 .camWrap\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 100vw\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 height:\cf5 \strokec5  \cf11 \strokec11 100vh\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin:\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 position:\cf5 \strokec5  \cf9 \strokec9 fixed\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 inset:\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding-top:\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf5 \strokec5  \cf12 \strokec12 #000\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 overflow:\cf5 \strokec5  \cf9 \strokec9 hidden\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 z-index:\cf5 \strokec5  \cf11 \strokec11 9990\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 none\cf5 \strokec5 ; \cf13 \strokec13 /* only show when camera is ON */\cf5 \cb1 \strokec5 \
\cb3     \}\cb1 \
\
\cb3     \cf10 \strokec10 .camWrap\cf5 \strokec5  \cf10 \strokec10 video\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 position:\cf5 \strokec5  \cf9 \strokec9 absolute\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 inset:\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 100%\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 height:\cf5 \strokec5  \cf11 \strokec11 100%\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 object-fit:\cf5 \strokec5  \cf9 \strokec9 cover\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf10 \strokec10 .card\cf5 \strokec5 \{\cf8 \strokec8 border:\cf11 \strokec11 1px\cf5 \strokec5  \cf9 \strokec9 solid\cf5 \strokec5  \cf12 \strokec12 #ddd\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 14px\cf5 \strokec5 ;\cf8 \strokec8 padding:\cf11 \strokec11 14px\cf5 \strokec5 ;\cf8 \strokec8 margin:\cf11 \strokec11 12px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cf8 \strokec8 background:\cf12 \strokec12 #fff\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .status\cf5 \strokec5 \{\cf8 \strokec8 background:\cf12 \strokec12 #f6f6f6\cf5 \strokec5 ;\cf8 \strokec8 padding:\cf11 \strokec11 12px\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 margin-top:\cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 white-space:\cf9 \strokec9 pre-wrap\cf5 \strokec5 \}\cb1 \
\
\cb3     \cf10 \strokec10 .kv\cf5 \strokec5 \{\cf8 \strokec8 display:\cf9 \strokec9 grid\cf5 \strokec5 ;\cf8 \strokec8 grid-template-columns:\cf11 \strokec11 180px\cf5 \strokec5  \cf11 \strokec11 1fr\cf5 \strokec5 ;\cf8 \strokec8 gap:\cf11 \strokec11 10px\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .kv\cf5 \strokec5  \cf10 \strokec10 div\cf5 \strokec5 \{\cf8 \strokec8 padding:\cf11 \strokec11 8px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cf8 \strokec8 border-bottom:\cf11 \strokec11 1px\cf5 \strokec5  \cf9 \strokec9 dashed\cf5 \strokec5  \cf12 \strokec12 #eee\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .label\cf5 \strokec5 \{\cf8 \strokec8 font-weight:\cf11 \strokec11 700\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .kv\cf5 \strokec5  \cf10 \strokec10 div:nth-child\cf5 \strokec5 (2\cf10 \strokec10 n\cf5 \strokec5 )\{\cf8 \strokec8 font-weight:\cf11 \strokec11 800\cf5 \strokec5 \}\cb1 \
\
\cb3     \cf10 \strokec10 video\cf5 \strokec5 \{\cf8 \strokec8 width:\cf11 \strokec11 100%\cf5 \strokec5 ;\cf8 \strokec8 aspect-ratio:\cf11 \strokec11 1\cf5 \strokec5 /\cf11 \strokec11 1\cf5 \strokec5 ;\cf8 \strokec8 object-fit:\cf9 \strokec9 cover\cf5 \strokec5 ;\cf8 \strokec8 background:\cf12 \strokec12 #000\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 12px\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 canvas\cf5 \strokec5 \{\cf8 \strokec8 display:\cf9 \strokec9 none\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .ok\cf5 \strokec5 \{\cf8 \strokec8 color:\cf12 \strokec12 #0a7a0a\cf5 \strokec5 ;\cf8 \strokec8 font-weight:\cf11 \strokec11 800\cf5 \strokec5 \}\cb1 \
\
\cb3     \cf10 \strokec10 .guideLine\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 position:\cf9 \strokec9 absolute\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 left:\cf11 \strokec11 0\cf5 \strokec5 ; \cf8 \strokec8 right:\cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 height:\cf11 \strokec11 2px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf9 \strokec9 rgba(\cf11 \strokec11 255\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0.85\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 top:\cf11 \strokec11 50%\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 pointer-events:\cf9 \strokec9 none\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .guideLabel\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 position:\cf9 \strokec9 absolute\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 left:\cf11 \strokec11 10px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 top:\cf9 \strokec9 calc(\cf11 \strokec11 50%\cf5 \strokec5  - \cf11 \strokec11 22px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf9 \strokec9 rgba(\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0.55\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 color:\cf12 \strokec12 #fff\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 12px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf11 \strokec11 4px\cf5 \strokec5  \cf11 \strokec11 8px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf11 \strokec11 8px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 pointer-events:\cf9 \strokec9 none\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  CAPTURE BUTTON ON TOP OF FULL SCREEN CAMERA */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 .btn\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 width:\cf11 \strokec11 100%\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf11 \strokec11 16px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border:\cf11 \strokec11 1px\cf5 \strokec5  \cf9 \strokec9 solid\cf5 \strokec5  \cf12 \strokec12 #b9b9b9\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 cursor:\cf9 \strokec9 pointer\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf9 \strokec9 linear-gradient(\cf12 \strokec12 #ffffff\cf5 \strokec5 ,\cf12 \strokec12 #f1f1f1\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       box-shadow:\cb1 \
\cb3         0 10px 0 #d0d0d0,\cb1 \
\cb3         0 18px 28px rgba(0,0,0,0.12);\cb1 \
\cb3       \cf8 \strokec8 transition:\cf9 \strokec9 transform\cf5 \strokec5  \cf11 \strokec11 0.08s\cf5 \strokec5  \cf9 \strokec9 ease\cf5 \strokec5 , \cf9 \strokec9 box-shadow\cf5 \strokec5  \cf11 \strokec11 0.08s\cf5 \strokec5  \cf9 \strokec9 ease\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 user-select:\cf9 \strokec9 none\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 -webkit-tap-highlight-color:\cf9 \strokec9 transparent\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .btn:active\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 transform:\cf9 \strokec9 translateY(\cf11 \strokec11 6px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       box-shadow:\cb1 \
\cb3         0 4px 0 #d0d0d0,\cb1 \
\cb3         0 10px 18px rgba(0,0,0,0.12);\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  button fixed bottom-center while camera full screen */\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf10 \cb3 \strokec10 .btnFixed\cf5 \strokec5 \{\cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3   \cf8 \strokec8 position:\cf5 \strokec5  \cf9 \strokec9 fixed\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 left:\cf5 \strokec5  \cf11 \strokec11 50%\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 transform:\cf5 \strokec5  \cf9 \strokec9 translateX(\cf11 \strokec11 -50%\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 bottom:\cf5 \strokec5  \cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 z-index:\cf5 \strokec5  \cf11 \strokec11 9992\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 width:\cf5 \strokec5  \cf9 \strokec9 min(\cf11 \strokec11 92vw\cf5 \strokec5 , \cf11 \strokec11 420px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 none\cf5 \strokec5 ; \cf13 \strokec13 /* show only when camera is ON */\cf5 \cb1 \strokec5 \
\cb3 \}\cb1 \
\
\
\cb3     \cf10 \strokec10 .hlRed\cf5 \strokec5 \{\cf8 \strokec8 background:\cf12 \strokec12 #ffcccc\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 padding:\cf11 \strokec11 6px\cf5 \strokec5  \cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 display:\cf9 \strokec9 inline-block\cf5 \strokec5 \}\cb1 \
\cb3     \cf10 \strokec10 .hlGreen\cf5 \strokec5 \{\cf8 \strokec8 background:\cf12 \strokec12 #ccffcc\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 padding:\cf11 \strokec11 6px\cf5 \strokec5  \cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 display:\cf9 \strokec9 inline-block\cf5 \strokec5 \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  ADDED: mobile view (no logic change) */\cf5 \cb1 \strokec5 \
\cb3     @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  520\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3       body\{\cf8 \strokec8 margin:\cf11 \strokec11 10px\cf5 \strokec5 ;\cf8 \strokec8 max-width:\cf11 \strokec11 100%\cf5 \strokec5 \}\cb1 \
\cb3       \cf10 \strokec10 .appFrame\cf5 \strokec5 \{\cf8 \strokec8 padding:\cf11 \strokec11 12px\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 18px\cf5 \strokec5 \}\cb1 \
\cb3       \cf10 \strokec10 .card\cf5 \strokec5 \{\cf8 \strokec8 margin:\cf11 \strokec11 10px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cf8 \strokec8 padding:\cf11 \strokec11 12px\cf5 \strokec5 \}\cb1 \
\cb3       \cf10 \strokec10 .kv\cf5 \strokec5 \{\cf8 \strokec8 grid-template-columns:\cf11 \strokec11 140px\cf5 \strokec5  \cf11 \strokec11 1fr\cf5 \strokec5 \}\cb1 \
\cb3       \cf10 \strokec10 .btn\cf5 \strokec5 \{\cf8 \strokec8 padding:\cf11 \strokec11 24px\cf5 \strokec5 ;\cf8 \strokec8 font-size:\cf11 \strokec11 22px\cf5 \strokec5 ;\cf8 \strokec8 border-radius:\cf11 \strokec11 18px\cf5 \strokec5 \}\cb1 \
\cb3       \cf10 \strokec10 .brandTitle\cf5 \strokec5 \{\cf8 \strokec8 font-size:\cf11 \strokec11 22px\cf5 \strokec5 \}\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  ADDED: overlay for "LOGGED COMPLETED" */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 .overlayDone\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 position:\cf9 \strokec9 fixed\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 inset:\cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 display:\cf9 \strokec9 none\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 align-items:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 justify-content:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 background:\cf9 \strokec9 rgba(\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0.18\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 z-index:\cf11 \strokec11 9999\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .overlayCard\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 background:\cf12 \strokec12 #fff\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf11 \strokec11 20px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf11 \strokec11 22px\cf5 \strokec5  \cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 box-shadow:\cf11 \strokec11 0\cf5 \strokec5  \cf11 \strokec11 18px\cf5 \strokec5  \cf11 \strokec11 50px\cf5 \strokec5  \cf9 \strokec9 rgba(\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0\cf5 \strokec5 ,\cf11 \strokec11 0.20\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 text-align:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 width:\cf9 \strokec9 min(\cf11 \strokec11 320px\cf5 \strokec5 , \cf11 \strokec11 88vw\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .overlayTick\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 64px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 line-height:\cf11 \strokec11 1\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 color:\cf12 \strokec12 #0a7a0a\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin-bottom:\cf11 \strokec11 10px\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .overlayText\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 color:\cf12 \strokec12 #0a7a0a\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 letter-spacing:\cf11 \strokec11 0.4px\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  MOBILE VIEW ENHANCEMENT \'96 DO NOT AFFECT DESKTOP */\cf5 \cb1 \strokec5 \
\cb3     @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 ) \{\cb1 \
\
\cb3       body\{\cb1 \
\cb3         \cf8 \strokec8 margin:\cf11 \strokec11 8px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 20px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .appFrame\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 padding:\cf11 \strokec11 20px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 border-radius:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 h2\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 text-align:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .card\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 padding:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .kv\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 grid-template-columns:\cf5 \strokec5  \cf11 \strokec11 140px\cf5 \strokec5  \cf11 \strokec11 1fr\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 gap:\cf11 \strokec11 14px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .kv\cf5 \strokec5  \cf10 \strokec10 div\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 padding:\cf11 \strokec11 12px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .label\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 font-weight:\cf11 \strokec11 800\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 video\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 border-radius:\cf11 \strokec11 16px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .btn\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 padding:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 border-radius:\cf11 \strokec11 18px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .status\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 16px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 padding:\cf11 \strokec11 16px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3     \}\cb1 \
\cb3     \cf10 \strokec10 .appTitle\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 text-align:\cf9 \strokec9 center\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 38px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 color:\cf12 \strokec12 #0b4fd6\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 letter-spacing:\cf11 \strokec11 1.2px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin:\cf11 \strokec11 6px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5  \cf11 \strokec11 18px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u55357 \u56613 
\f0  Bigger capture details for mobile */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 .kv\cf5 \strokec5  \cf10 \strokec10 div\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf11 \strokec11 16px\cf5 \strokec5  \cf11 \strokec11 0\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf10 \strokec10 .label\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* Values on right side */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 #memberId\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #memberName\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #itemName\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #outW\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #inW\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #readyW\cf5 \strokec5 ,\cb1 \
\cb3     \cf10 \strokec10 #stage\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf11 \strokec11 800\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3       .appTitle\{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 42px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .kv\cf5 \strokec5  \cf10 \strokec10 div\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 .label\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf10 \strokec10 #memberId\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #memberName\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #itemName\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #outW\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #inW\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #readyW\cf5 \strokec5 ,\cb1 \
\cb3       \cf10 \strokec10 #stage\cf5 \strokec5 \{\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  Centered bottom CAPTURE button (layout only) */\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf10 \cb3 \strokec10 #btnCapture\cf5 \strokec5 \{\cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3   \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 block\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 margin:\cf5 \strokec5  \cf11 \strokec11 28px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5  \cf11 \strokec11 6px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5 ; \cf13 \strokec13 /* center + push to bottom of layout */\cf5 \cb1 \strokec5 \
\cb3   \cf8 \strokec8 width:\cf5 \strokec5  \cf9 \strokec9 min(\cf11 \strokec11 92%\cf5 \strokec5 , \cf11 \strokec11 420px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 30px\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 26px\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 font-weight:\cf5 \strokec5  \cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 20px\cf5 \strokec5 ;\cb1 \
\cb3 \}\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf13 \cb3 \strokec13 /* 
\f1 \uc0\u55357 \u56561 
\f0  Bigger & thumb-friendly on mobile */\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3 @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3   #btnCapture\{\cb1 \
\cb3     \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 94%\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 34px\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 28px\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3   \}\cb1 \
\cb3 \}\cb1 \
\pard\pardeftab720\partightenfactor0
\cf13 \cb3 \strokec13 /* 
\f1 \uc0\u9989 
\f0  CAPTURE button at very bottom after all details */\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf10 \cb3 \strokec10 #btnCapture\cf5 \strokec5 \{\cb1 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3   \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 block\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 margin:\cf5 \strokec5  \cf11 \strokec11 32px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5  \cf11 \strokec11 12px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5 ; \cf13 \strokec13 /* pushes it BELOW details */\cf5 \cb1 \strokec5 \
\cb3   \cf8 \strokec8 width:\cf5 \strokec5  \cf9 \strokec9 min(\cf11 \strokec11 94%\cf5 \strokec5 , \cf11 \strokec11 460px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 32px\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 28px\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 font-weight:\cf5 \strokec5  \cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3   \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3 \}\cb1 \
\
\pard\pardeftab720\partightenfactor0
\cf13 \cb3 \strokec13 /* 
\f1 \uc0\u55357 \u56561 
\f0  Mobile emphasis */\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3 @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3   #btnCapture\{\cb1 \
\cb3     \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 96%\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 36px\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 30px\cf5 \strokec5 ;\cb1 \
\cb3     \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3   \}\cb1 \
\cb3 \}\cb1 \
\
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  ADDED: match SUBMIT bottom styling (no logic change) */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 #btnSubmit\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 block\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin:\cf5 \strokec5  \cf11 \strokec11 32px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5  \cf11 \strokec11 12px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 width:\cf5 \strokec5  \cf9 \strokec9 min(\cf11 \strokec11 94%\cf5 \strokec5 , \cf11 \strokec11 460px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 32px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 28px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf5 \strokec5  \cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3       #btnSubmit\{\cb1 \
\cb3         \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 96%\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 36px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 30px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\cb3     \}\cb1 \
\
\cb3     \cf13 \strokec13 /* 
\f1 \uc0\u9989 
\f0  ADDED: match RESET bottom styling (no logic change) */\cf5 \cb1 \strokec5 \
\cb3     \cf10 \strokec10 #btnReset\cf5 \strokec5 \{\cb1 \
\cb3       \cf8 \strokec8 display:\cf5 \strokec5  \cf9 \strokec9 block\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 margin:\cf5 \strokec5  \cf11 \strokec11 12px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5  \cf11 \strokec11 12px\cf5 \strokec5  \cf9 \strokec9 auto\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 width:\cf5 \strokec5  \cf9 \strokec9 min(\cf11 \strokec11 94%\cf5 \strokec5 , \cf11 \strokec11 460px\cf9 \strokec9 )\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 32px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 28px\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 font-weight:\cf5 \strokec5  \cf11 \strokec11 900\cf5 \strokec5 ;\cb1 \
\cb3       \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 22px\cf5 \strokec5 ;\cb1 \
\cb3     \}\cb1 \
\cb3     @\cf10 \strokec10 media\cf5 \strokec5  (\cf10 \strokec10 max-width:\cf5 \strokec5  768\cf10 \strokec10 px\cf5 \strokec5 )\{\cb1 \
\cb3       #btnReset\{\cb1 \
\cb3         \cf8 \strokec8 width:\cf5 \strokec5  \cf11 \strokec11 96%\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 padding:\cf5 \strokec5  \cf11 \strokec11 36px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 font-size:\cf5 \strokec5  \cf11 \strokec11 30px\cf5 \strokec5 ;\cb1 \
\cb3         \cf8 \strokec8 border-radius:\cf5 \strokec5  \cf11 \strokec11 24px\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\cb3     \}\cb1 \
\cb3   \cf6 \strokec6 </\cf7 \strokec7 style\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 </\cf7 \strokec7 head\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cf6 \cb3 \strokec6 <\cf7 \strokec7 body\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf5 \cb3   \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "appFrame"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 h1\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "appTitle"\cf6 \strokec6 >\cf5 \strokec5 ANYMECH PRODUCTS\cf6 \strokec6 </\cf7 \strokec7 h1\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3     \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "card"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf14 \strokec14 <!-- 
\f1 \uc0\u9989 
\f0  Full screen camera layer -->\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "camWrap"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "camWrap"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 video\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "video"\cf5 \strokec5  \cf8 \strokec8 autoplay\cf5 \strokec5  \cf8 \strokec8 playsinline\cf6 \strokec6 ></\cf7 \strokec7 video\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "guideLine"\cf6 \strokec6 ></\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "guideLabel"\cf6 \strokec6 >\cf5 \strokec5 Top: Card | Bottom: Scale\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3       \cf6 \strokec6 <\cf7 \strokec7 canvas\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "canvas"\cf6 \strokec6 ></\cf7 \strokec7 canvas\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3       \cf14 \strokec14 <!-- 
\f1 \uc0\u9989 
\f0  full-screen fixed button (same id? NO \'96 keep original unchanged) -->\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "btnFixed"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "btnFixedWrap"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 button\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "btn"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "btnCaptureFixed"\cf6 \strokec6 >\cf5 \strokec5 CAPTURE\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "status"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "status"\cf6 \strokec6 >\cf5 \strokec5 Press CAPTURE to start live camera.\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3     \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "card"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "kv"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 NEW M.NO\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "memberId"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 MEMBER NAME\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "memberName"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 ITEM NAME\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "itemName"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 CAPTURED WEIGHT (PREVIEW)\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "capW"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 OUT WEIGHT\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "outW"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 IN WEIGHT\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "inW"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 READY WEIGHT\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "readyW"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 SHORT MATERIAL\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "shortMat"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "label"\cf6 \strokec6 >\cf5 \strokec5 STATUS\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 ><\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "stage"\cf6 \strokec6 >\cf5 \strokec5 -\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3     \cf14 \strokec14 <!-- 
\f1 \uc0\u9989 
\f0  MOVED: buttons after details at bottom of app -->\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 button\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "btn"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "btnCapture"\cf6 \strokec6 >\cf5 \strokec5 CAPTURE\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 button\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "btn"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "btnSubmit"\cf5 \strokec5  \cf8 \strokec8 style\cf6 \strokec6 =\cf9 \strokec9 "display:none;"\cf6 \strokec6 >\cf5 \strokec5 SUBMIT\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 button\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "btn"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "btnReset"\cf5 \strokec5  \cf8 \strokec8 style\cf6 \strokec6 =\cf9 \strokec9 "display:none;"\cf6 \strokec6 >\cf5 \strokec5 RESET\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3     \cf6 \strokec6 <\cf7 \strokec7 script\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 onerror\cf5 \strokec5  = \cf7 \strokec7 function\cf5 \strokec5  (\cf15 \strokec15 msg\cf5 \strokec5 , \cf15 \strokec15 src\cf5 \strokec5 , \cf15 \strokec15 line\cf5 \strokec5 , \cf15 \strokec15 col\cf5 \strokec5 , \cf15 \strokec15 err\cf5 \strokec5 ) \{\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 s\cf5 \strokec5  = \cf9 \strokec9 "JS ERROR: "\cf5 \strokec5  + \cf15 \strokec15 msg\cf5 \strokec5  + \cf9 \strokec9 "\\n"\cf5 \strokec5  + (\cf15 \strokec15 src\cf5 \strokec5 ||\cf9 \strokec9 ""\cf5 \strokec5 ) + \cf9 \strokec9 ":"\cf5 \strokec5  + \cf15 \strokec15 line\cf5 \strokec5  + \cf9 \strokec9 ":"\cf5 \strokec5  + \cf15 \strokec15 col\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5  \{ \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "status"\cf5 \strokec5 ).\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 s\cf5 \strokec5 ; \} \cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 ) \{\}\cb1 \
\cb3         \cf7 \strokec7 return\cf5 \strokec5  \cf7 \strokec7 false\cf5 \strokec5 ;\cb1 \
\cb3       \};\cb1 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 script\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3     \cf6 \strokec6 <\cf7 \strokec7 script\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  FIX: _ms_ must exist before any catch uses it\cf5 \cb1 \strokec5 \
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 t0\cf5 \strokec5 )\{ \cf7 \strokec7 return\cf5 \strokec5  \cf16 \strokec16 Math\cf5 \strokec5 .\cf15 \strokec15 round\cf5 \strokec5 ((\cf15 \strokec15 performance\cf5 \strokec5 .\cf15 \strokec15 now\cf5 \strokec5 () - \cf15 \strokec15 t0\cf5 \strokec5 )); \}\cb1 \
\
\cb3       \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3       \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 stream\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: holds captured OCR result until SUBMIT is clicked\cf5 \cb1 \strokec5 \
\cb3       \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ; \cf13 \strokec13 // \{ memberId, itemName, weight, dataUrl, ocrMemberName, ocrItemName \}\cf5 \cb1 \strokec5 \
\
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 video\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "video"\cf5 \strokec5 );\cb1 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 canvas\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "canvas"\cf5 \strokec5 );\cb1 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 camWrap\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "camWrap"\cf5 \strokec5 );\cb1 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 btnFixedWrap\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnFixedWrap"\cf5 \strokec5 );\cb1 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 btnCaptureFixed\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCaptureFixed"\cf5 \strokec5 );\cb1 \
\
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: submit & reset button ref\cf5 \cb1 \strokec5 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 btnSubmit\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnSubmit"\cf5 \strokec5 );\cb1 \
\cb3       \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 btnReset\cf5 \strokec5   = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnReset"\cf5 \strokec5 );\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf15 \strokec15 t\cf5 \strokec5 )\{ \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "status"\cf5 \strokec5 ).\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 t\cf5 \strokec5 ; \}\cb1 \
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf15 \strokec15 t\cf5 \strokec5 )\{ \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 t\cf5 \strokec5 ; \cf15 \strokec15 btnCaptureFixed\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 t\cf5 \strokec5 ; \}\cb1 \
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 setText\cf5 \strokec5 (\cf15 \strokec15 id\cf5 \strokec5 , \cf15 \strokec15 t\cf5 \strokec5 )\{ \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf15 \strokec15 id\cf5 \strokec5 ).\cf15 \strokec15 textContent\cf5 \strokec5  = (\cf15 \strokec15 t\cf5 \strokec5  ?? \cf9 \strokec9 "-"\cf5 \strokec5 ); \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 setStageText\cf5 \strokec5 (\cf15 \strokec15 t\cf5 \strokec5 , \cf15 \strokec15 completed\cf5 \strokec5 )\{\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 el\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "stage"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 t\cf5 \strokec5  ?? \cf9 \strokec9 "-"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 className\cf5 \strokec5  = \cf15 \strokec15 completed\cf5 \strokec5  ? \cf9 \strokec9 "ok"\cf5 \strokec5  : \cf9 \strokec9 ""\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 setShortMaterial\cf5 \strokec5 (\cf15 \strokec15 v\cf5 \strokec5 )\{\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 el\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "shortMat"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 className\cf5 \strokec5  = \cf9 \strokec9 ""\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 v\cf5 \strokec5  === \cf7 \strokec7 null\cf5 \strokec5  || \cf15 \strokec15 v\cf5 \strokec5  === \cf7 \strokec7 undefined\cf5 \strokec5  || \cf15 \strokec15 v\cf5 \strokec5  === \cf9 \strokec9 ""\cf5 \strokec5  || \cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 v\cf5 \strokec5 ))\{\cb1 \
\cb3           \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "-"\cf5 \strokec5 ;\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 n\cf5 \strokec5  = \cf16 \strokec16 Number\cf5 \strokec5 (\cf15 \strokec15 v\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf15 \strokec15 n\cf5 \strokec5 .\cf15 \strokec15 toFixed\cf5 \strokec5 (\cf8 \strokec8 3\cf5 \strokec5 );\cb1 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 n\cf5 \strokec5  < -\cf8 \strokec8 0.200\cf5 \strokec5 ) \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 className\cf5 \strokec5  = \cf9 \strokec9 "hlRed"\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 else\cf5 \strokec5  \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 n\cf5 \strokec5  > \cf8 \strokec8 0.200\cf5 \strokec5 ) \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 className\cf5 \strokec5  = \cf9 \strokec9 "hlGreen"\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 tickSound\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 ctx\cf5 \strokec5  = \cf7 \strokec7 new\cf5 \strokec5  (\cf15 \strokec15 window\cf5 \strokec5 .\cf16 \strokec16 AudioContext\cf5 \strokec5  || \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 webkitAudioContext\cf5 \strokec5 )();\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 o\cf5 \strokec5  = \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 createOscillator\cf5 \strokec5 ();\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 g\cf5 \strokec5  = \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 createGain\cf5 \strokec5 ();\cb1 \
\cb3           \cf15 \strokec15 o\cf5 \strokec5 .\cf15 \strokec15 type\cf5 \strokec5  = \cf9 \strokec9 "square"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 o\cf5 \strokec5 .\cf15 \strokec15 frequency\cf5 \strokec5 .\cf15 \strokec15 value\cf5 \strokec5  = \cf8 \strokec8 1200\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 g\cf5 \strokec5 .\cf15 \strokec15 gain\cf5 \strokec5 .\cf15 \strokec15 value\cf5 \strokec5  = \cf8 \strokec8 0.06\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 o\cf5 \strokec5 .\cf15 \strokec15 connect\cf5 \strokec5 (\cf15 \strokec15 g\cf5 \strokec5 ); \cf15 \strokec15 g\cf5 \strokec5 .\cf15 \strokec15 connect\cf5 \strokec5 (\cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 destination\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 o\cf5 \strokec5 .\cf15 \strokec15 start\cf5 \strokec5 ();\cb1 \
\cb3           \cf15 \strokec15 setTimeout\cf5 \strokec5 (()=>\{ \cf15 \strokec15 o\cf5 \strokec5 .\cf15 \strokec15 stop\cf5 \strokec5 (); \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 close\cf5 \strokec5 (); \}, \cf8 \strokec8 90\cf5 \strokec5 );\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 )\{\}\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 showLoggedOverlay\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 el\cf5 \strokec5  = \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "overlayDone"\cf5 \strokec5 );\cb1 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (!\cf15 \strokec15 el\cf5 \strokec5 ) \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "flex"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 setTimeout\cf5 \strokec5 (()=>\{ \cf15 \strokec15 el\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ; \}, \cf8 \strokec8 1000\cf5 \strokec5 );\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 resetDisplay\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberId"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberName"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "itemName"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "outW"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "inW"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "readyW"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setShortMaterial\cf5 \strokec5 (\cf7 \strokec7 null\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setStageText\cf5 \strokec5 (\cf9 \strokec9 "-"\cf5 \strokec5 , \cf7 \strokec7 false\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "capW"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 callServer\cf5 \strokec5 (\cf15 \strokec15 fnName\cf5 \strokec5 , \cf15 \strokec15 args\cf5 \strokec5 )\{\cb1 \
\cb3         \cf7 \strokec7 return\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Promise\cf5 \strokec5 ((\cf15 \strokec15 resolve\cf5 \strokec5 , \cf15 \strokec15 reject\cf5 \strokec5 ) => \{\cb1 \
\cb3           \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3             \cf15 \strokec15 google\cf5 \strokec5 .\cf15 \strokec15 script\cf5 \strokec5 .\cf15 \strokec15 run\cf5 \cb1 \strokec5 \
\cb3               .\cf15 \strokec15 withSuccessHandler\cf5 \strokec5 (\cf15 \strokec15 resolve\cf5 \strokec5 )\cb1 \
\cb3               .\cf15 \strokec15 withFailureHandler\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5  => \cf15 \strokec15 reject\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 ))\cb1 \
\cb3               [\cf15 \strokec15 fnName\cf5 \strokec5 ].\cf15 \strokec15 apply\cf5 \strokec5 (\cf7 \strokec7 null\cf5 \strokec5 , \cf15 \strokec15 args\cf5 \strokec5 );\cb1 \
\cb3           \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 )\{\cb1 \
\cb3             \cf15 \strokec15 reject\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 );\cb1 \
\cb3           \}\cb1 \
\cb3         \});\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 callServerNoWait\cf5 \strokec5 (\cf15 \strokec15 fnName\cf5 \strokec5 , \cf15 \strokec15 args\cf5 \strokec5 )\{\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf15 \strokec15 google\cf5 \strokec5 .\cf15 \strokec15 script\cf5 \strokec5 .\cf15 \strokec15 run\cf5 \cb1 \strokec5 \
\cb3             .\cf15 \strokec15 withSuccessHandler\cf5 \strokec5 (\cf7 \strokec7 function\cf5 \strokec5 ()\{\})\cb1 \
\cb3             .\cf15 \strokec15 withFailureHandler\cf5 \strokec5 (\cf7 \strokec7 function\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3               \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Background fail: "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )));\cb1 \
\cb3             \})\cb1 \
\cb3             [\cf15 \strokec15 fnName\cf5 \strokec5 ].\cf15 \strokec15 apply\cf5 \strokec5 (\cf7 \strokec7 null\cf5 \strokec5 , \cf15 \strokec15 args\cf5 \strokec5 );\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Background JS error: "\cf5 \strokec5  + \cf15 \strokec15 e\cf5 \strokec5 );\cb1 \
\cb3         \}\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: button sequencing helpers (never show CAPTURE and SUBMIT together)\cf5 \cb1 \strokec5 \
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf13 \strokec13 // camera ON => show fixed capture, hide normal capture\cf5 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 // camera OFF => show normal capture, hide fixed capture (handled by showCameraUI)\cf5 \cb1 \strokec5 \
\cb3         \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = (\cf15 \strokec15 camWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  === \cf9 \strokec9 "block"\cf5 \strokec5 ) ? \cf9 \strokec9 "none"\cf5 \strokec5  : \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnFixedWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = (\cf15 \strokec15 camWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  === \cf9 \strokec9 "block"\cf5 \strokec5 ) ? \cf9 \strokec9 "block"\cf5 \strokec5  : \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // always hide submit/reset in capture mode\cf5 \cb1 \strokec5 \
\cb3         \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 showSubmitButtonOnly\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf13 \strokec13 // submit mode is always camera OFF\cf5 \cb1 \strokec5 \
\cb3         \cf15 \strokec15 btnFixedWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 showCameraUI\cf5 \strokec5 (\cf15 \strokec15 on\cf5 \strokec5 )\{\cb1 \
\cb3         \cf15 \strokec15 camWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf15 \strokec15 on\cf5 \strokec5  ? \cf9 \strokec9 "block"\cf5 \strokec5  : \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnFixedWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf15 \strokec15 on\cf5 \strokec5  ? \cf9 \strokec9 "block"\cf5 \strokec5  : \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  keep capture button down under camera screen\cf5 \cb1 \strokec5 \
\cb3         \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf15 \strokec15 on\cf5 \strokec5  ? \cf9 \strokec9 "none"\cf5 \strokec5  : \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: enforce sequencing\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 uiState\cf5 \strokec5  === \cf9 \strokec9 "await_submit"\cf5 \strokec5 ) \{\cb1 \
\cb3           \cf13 \strokec13 // if somehow called while awaiting submit, still keep submit only\cf5 \cb1 \strokec5 \
\cb3           \cf15 \strokec15 btnFixedWrap\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "block"\cf5 \strokec5 ;\cb1 \
\cb3         \} \cf7 \strokec7 else\cf5 \strokec5  \{\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 startLiveCamera\cf5 \strokec5  = \cf7 \strokec7 async\cf5 \strokec5  \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 startLiveCamera\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  BUGFIX: show the real reason when camera permission is blocked\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (!\cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 mediaDevices\cf5 \strokec5  || !\cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 mediaDevices\cf5 \strokec5 .\cf15 \strokec15 getUserMedia\cf5 \strokec5 )\{\cb1 \
\cb3           \cf7 \strokec7 throw\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Error\cf5 \strokec5 (\cf9 \strokec9 "Camera API not available in this browser/webview."\cf5 \strokec5 );\cb1 \
\cb3         \}\cb1 \
\cb3         \cf13 \strokec13 // Camera requires HTTPS (or localhost). Insecure context often shows "permission not allowed".\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (!\cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 isSecureContext\cf5 \strokec5 )\{\cb1 \
\cb3           \cf7 \strokec7 throw\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Error\cf5 \strokec5 (\cf9 \strokec9 "Camera blocked: page is not HTTPS (secure). Open using https:// (or localhost)."\cf5 \strokec5 );\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 // Make playback more reliable on mobile\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5  \{ \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 muted\cf5 \strokec5  = \cf7 \strokec7 true\cf5 \strokec5 ; \} \cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 ) \{\}\cb1 \
\
\cb3         \cf13 \strokec13 // Optional: pre-check permission status if supported (does not request permission)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 permissions\cf5 \strokec5  && \cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 permissions\cf5 \strokec5 .\cf15 \strokec15 query\cf5 \strokec5 )\{\cb1 \
\cb3             \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 st\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 permissions\cf5 \strokec5 .\cf15 \strokec15 query\cf5 \strokec5 (\{ \cf15 \strokec15 name\cf5 \strokec5 : \cf9 \strokec9 "camera"\cf5 \strokec5  \});\cb1 \
\cb3             \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 st\cf5 \strokec5  && \cf15 \strokec15 st\cf5 \strokec5 .\cf15 \strokec15 state\cf5 \strokec5  === \cf9 \strokec9 "denied"\cf5 \strokec5 )\{\cb1 \
\cb3               \cf7 \strokec7 throw\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Error\cf5 \strokec5 (\cf9 \strokec9 "Camera permission is DENIED in browser settings. Allow camera for this site and reload."\cf5 \strokec5 );\cb1 \
\cb3             \}\cb1 \
\cb3           \}\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 )\{\cb1 \
\cb3           \cf13 \strokec13 // ignore (some browsers throw for permissions query)\cf5 \cb1 \strokec5 \
\cb3         \}\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 preferred\cf5 \strokec5  = \{\cb1 \
\cb3           \cf15 \strokec15 video\cf5 \strokec5 : \{\cb1 \
\cb3             \cf15 \strokec15 facingMode\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf9 \strokec9 "environment"\cf5 \strokec5  \},\cb1 \
\cb3             \cf15 \strokec15 width\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf8 \strokec8 1920\cf5 \strokec5  \},\cb1 \
\cb3             \cf15 \strokec15 height\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf8 \strokec8 1080\cf5 \strokec5  \},\cb1 \
\cb3             \cf15 \strokec15 aspectRatio\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf8 \strokec8 16\cf5 \strokec5 /\cf8 \strokec8 9\cf5 \strokec5  \}\cb1 \
\cb3           \},\cb1 \
\cb3           \cf15 \strokec15 audio\cf5 \strokec5 : \cf7 \strokec7 false\cf5 \cb1 \strokec5 \
\cb3         \};\cb1 \
\
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf15 \strokec15 stream\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 mediaDevices\cf5 \strokec5 .\cf15 \strokec15 getUserMedia\cf5 \strokec5 (\cf15 \strokec15 preferred\cf5 \strokec5 );\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e1\cf5 \strokec5 )\{\cb1 \
\cb3           \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3             \cf15 \strokec15 stream\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 mediaDevices\cf5 \strokec5 .\cf15 \strokec15 getUserMedia\cf5 \strokec5 (\{\cb1 \
\cb3               \cf15 \strokec15 video\cf5 \strokec5 : \{\cb1 \
\cb3                 \cf15 \strokec15 facingMode\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf9 \strokec9 "environment"\cf5 \strokec5  \},\cb1 \
\cb3                 \cf15 \strokec15 aspectRatio\cf5 \strokec5 : \{ \cf15 \strokec15 ideal\cf5 \strokec5 : \cf8 \strokec8 16\cf5 \strokec5 /\cf8 \strokec8 9\cf5 \strokec5  \}\cb1 \
\cb3               \},\cb1 \
\cb3               \cf15 \strokec15 audio\cf5 \strokec5 : \cf7 \strokec7 false\cf5 \cb1 \strokec5 \
\cb3             \});\cb1 \
\cb3           \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e2\cf5 \strokec5 )\{\cb1 \
\cb3             \cf15 \strokec15 stream\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 navigator\cf5 \strokec5 .\cf15 \strokec15 mediaDevices\cf5 \strokec5 .\cf15 \strokec15 getUserMedia\cf5 \strokec5 (\{ \cf15 \strokec15 video\cf5 \strokec5 : \cf7 \strokec7 true\cf5 \strokec5 , \cf15 \strokec15 audio\cf5 \strokec5 : \cf7 \strokec7 false\cf5 \strokec5  \});\cb1 \
\cb3           \}\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 srcObject\cf5 \strokec5  = \cf15 \strokec15 stream\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ensure metadata ready (prevents blank capture)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 await\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Promise\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5  => \{\cb1 \
\cb3           \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 videoWidth\cf5 \strokec5  && \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 videoHeight\cf5 \strokec5 ) \cf7 \strokec7 return\cf5 \strokec5  \cf15 \strokec15 r\cf5 \strokec5 ();\cb1 \
\cb3           \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 onloadedmetadata\cf5 \strokec5  = () => \cf15 \strokec15 r\cf5 \strokec5 ();\cb1 \
\cb3         \});\cb1 \
\
\cb3         \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 play\cf5 \strokec5 ();\cb1 \
\
\cb3         \cf13 \strokec13 // wait 1-2 frames so the camera has an actual frame rendered (prevents black captures)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 await\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Promise\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5  => \cf15 \strokec15 requestAnimationFrame\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5 ));\cb1 \
\cb3         \cf7 \strokec7 await\cf5 \strokec5  \cf7 \strokec7 new\cf5 \strokec5  \cf16 \strokec16 Promise\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5  => \cf15 \strokec15 requestAnimationFrame\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5 ));\cb1 \
\
\cb3         \cf15 \strokec15 showCameraUI\cf5 \strokec5 (\cf7 \strokec7 true\cf5 \strokec5 );\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 stopLiveCamera\cf5 \strokec5  = \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 stopLiveCamera\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 stream\cf5 \strokec5 )\{\cb1 \
\cb3             \cf15 \strokec15 stream\cf5 \strokec5 .\cf15 \strokec15 getTracks\cf5 \strokec5 ().\cf15 \strokec15 forEach\cf5 \strokec5 (\cf15 \strokec15 t\cf5 \strokec5  => \cf15 \strokec15 t\cf5 \strokec5 .\cf15 \strokec15 stop\cf5 \strokec5 ());\cb1 \
\cb3             \cf15 \strokec15 stream\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3           \}\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 e\cf5 \strokec5 )\{\}\cb1 \
\cb3         \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 srcObject\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 showCameraUI\cf5 \strokec5 (\cf7 \strokec7 false\cf5 \strokec5 );\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 captureDataUrlFull\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 vw\cf5 \strokec5  = \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 videoWidth\cf5 \strokec5  || \cf8 \strokec8 1920\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 vh\cf5 \strokec5  = \cf15 \strokec15 video\cf5 \strokec5 .\cf15 \strokec15 videoHeight\cf5 \strokec5  || \cf8 \strokec8 1080\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // keep full frame (no crop)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 sy\cf5 \strokec5  = \cf8 \strokec8 0\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 sh\cf5 \strokec5  = \cf15 \strokec15 vh\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 sx\cf5 \strokec5  = \cf8 \strokec8 0\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 sw\cf5 \strokec5  = \cf15 \strokec15 vw\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // output scaling (same as your logic)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 maxW\cf5 \strokec5  = \cf8 \strokec8 1280\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  FORCE OUTPUT TO LANDSCAPE (rotate if the camera frame is portrait)\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 isPortraitFrame\cf5 \strokec5  = \cf15 \strokec15 vh\cf5 \strokec5  > \cf15 \strokec15 vw\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 // If portrait, after rotation width becomes "vh" and height becomes "vw"\cf5 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 baseW\cf5 \strokec5  = \cf15 \strokec15 isPortraitFrame\cf5 \strokec5  ? \cf15 \strokec15 vh\cf5 \strokec5  : \cf15 \strokec15 sw\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 baseH\cf5 \strokec5  = \cf15 \strokec15 isPortraitFrame\cf5 \strokec5  ? \cf15 \strokec15 vw\cf5 \strokec5  : \cf15 \strokec15 sh\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 scale\cf5 \strokec5  = \cf16 \strokec16 Math\cf5 \strokec5 .\cf15 \strokec15 min\cf5 \strokec5 (\cf8 \strokec8 1\cf5 \strokec5 , \cf15 \strokec15 maxW\cf5 \strokec5  / \cf15 \strokec15 baseW\cf5 \strokec5 );\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 outW\cf5 \strokec5  = \cf16 \strokec16 Math\cf5 \strokec5 .\cf15 \strokec15 round\cf5 \strokec5 (\cf15 \strokec15 baseW\cf5 \strokec5  * \cf15 \strokec15 scale\cf5 \strokec5 );\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 outH\cf5 \strokec5  = \cf16 \strokec16 Math\cf5 \strokec5 .\cf15 \strokec15 round\cf5 \strokec5 (\cf15 \strokec15 baseH\cf5 \strokec5  * \cf15 \strokec15 scale\cf5 \strokec5 );\cb1 \
\
\cb3         \cf15 \strokec15 canvas\cf5 \strokec5 .\cf15 \strokec15 width\cf5 \strokec5  = \cf15 \strokec15 outW\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 canvas\cf5 \strokec5 .\cf15 \strokec15 height\cf5 \strokec5  = \cf15 \strokec15 outH\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 ctx\cf5 \strokec5  = \cf15 \strokec15 canvas\cf5 \strokec5 .\cf15 \strokec15 getContext\cf5 \strokec5 (\cf9 \strokec9 "2d"\cf5 \strokec5 , \{ \cf15 \strokec15 willReadFrequently\cf5 \strokec5 :\cf7 \strokec7 true\cf5 \strokec5  \});\cb1 \
\cb3         \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 save\cf5 \strokec5 ();\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 isPortraitFrame\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 translate\cf5 \strokec5 (\cf15 \strokec15 outW\cf5 \strokec5 , \cf8 \strokec8 0\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 rotate\cf5 \strokec5 (\cf16 \strokec16 Math\cf5 \strokec5 .\cf16 \strokec16 PI\cf5 \strokec5  / \cf8 \strokec8 2\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 drawImage\cf5 \strokec5 (\cf15 \strokec15 video\cf5 \strokec5 , \cf15 \strokec15 sx\cf5 \strokec5 , \cf15 \strokec15 sy\cf5 \strokec5 , \cf15 \strokec15 sw\cf5 \strokec5 , \cf15 \strokec15 sh\cf5 \strokec5 , \cf8 \strokec8 0\cf5 \strokec5 , \cf8 \strokec8 0\cf5 \strokec5 , \cf15 \strokec15 outH\cf5 \strokec5 , \cf15 \strokec15 outW\cf5 \strokec5 );\cb1 \
\cb3         \} \cf7 \strokec7 else\cf5 \strokec5  \{\cb1 \
\cb3           \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 drawImage\cf5 \strokec5 (\cf15 \strokec15 video\cf5 \strokec5 , \cf15 \strokec15 sx\cf5 \strokec5 , \cf15 \strokec15 sy\cf5 \strokec5 , \cf15 \strokec15 sw\cf5 \strokec5 , \cf15 \strokec15 sh\cf5 \strokec5 , \cf8 \strokec8 0\cf5 \strokec5 , \cf8 \strokec8 0\cf5 \strokec5 , \cf15 \strokec15 outW\cf5 \strokec5 , \cf15 \strokec15 outH\cf5 \strokec5 );\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf15 \strokec15 ctx\cf5 \strokec5 .\cf15 \strokec15 restore\cf5 \strokec5 ();\cb1 \
\
\cb3         \cf7 \strokec7 return\cf5 \strokec5  \cf15 \strokec15 canvas\cf5 \strokec5 .\cf15 \strokec15 toDataURL\cf5 \strokec5 (\cf9 \strokec9 "image/jpeg"\cf5 \strokec5 , \cf8 \strokec8 0.75\cf5 \strokec5 );\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: Reset handler (discard pending capture, start capture again, do NOT submit)\cf5 \cb1 \strokec5 \
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 resetClick\cf5 \strokec5  = \cf7 \strokec7 async\cf5 \strokec5  \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 resetClick\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf15 \strokec15 resetDisplay\cf5 \strokec5 ();\cb1 \
\
\cb3         \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE FRAME"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "RESET 
\f1 \uc0\u9989 
\f0 \\nStarting camera again..."\cf5 \strokec5 );\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 startLiveCamera\cf5 \strokec5 ();\cb1 \
\cb3           \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "camera_on"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Camera ON 
\f1 \uc0\u9989 
\f0 \\nPress CAPTURE FRAME to capture image first, then OCR (Submit will be shown after OCR)."\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "RESET 
\f1 \uc0\u9989 
\f0 \\nCamera failed: "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 name\cf5 \strokec5  ? (\cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 name\cf5 \strokec5  + \cf9 \strokec9 " - "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  || \cf9 \strokec9 ""\cf5 \strokec5 )) : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )));\cb1 \
\cb3           \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3         \}\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf13 \strokec13 // 
\f1 \uc0\u9989 
\f0  ADDED: Submit handler (runs server submit ONLY when SUBMIT is clicked)\cf5 \cb1 \strokec5 \
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 submitClick\cf5 \strokec5  = \cf7 \strokec7 async\cf5 \strokec5  \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 submitClick\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 uiState\cf5 \strokec5  !== \cf9 \strokec9 "await_submit"\cf5 \strokec5  || !\cf15 \strokec15 pendingCapture\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "No captured data pending. Please CAPTURE first."\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 tSub0\cf5 \strokec5  = \cf15 \strokec15 performance\cf5 \strokec5 .\cf15 \strokec15 now\cf5 \strokec5 ();\cb1 \
\cb3         \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Submitting..."\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMITTING..."\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 resp\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3           \cf15 \strokec15 resp\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 callServer\cf5 \strokec5 (\cf9 \strokec9 "captureFromOcr"\cf5 \strokec5 , [\cb1 \
\cb3             \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 memberId\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 weight\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 dataUrl\cf5 \cb1 \strokec5 \
\cb3           ]);\cb1 \
\cb3         \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 msSub\cf5 \strokec5  = \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 tSub0\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cb1 \
\cb3             \cf9 \strokec9 "ERROR: Submit call failed\\n"\cf5 \strokec5  +\cb1 \
\cb3             (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )) +\cb1 \
\cb3             \cf9 \strokec9 "\\n\\nTIMING:\\nSubmit call: "\cf5 \strokec5  + \cf15 \strokec15 msSub\cf5 \strokec5  + \cf9 \strokec9 " ms"\cf5 \cb1 \strokec5 \
\cb3           );\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 msSub\cf5 \strokec5  = \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 tSub0\cf5 \strokec5 );\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (!\cf15 \strokec15 resp\cf5 \strokec5  || !\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 ok\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "ERROR: "\cf5 \strokec5  + (\cf15 \strokec15 resp\cf5 \strokec5  && \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf9 \strokec9 "Unknown submit error"\cf5 \strokec5 ));\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 d\cf5 \strokec5  = (\cf15 \strokec15 resp\cf5 \strokec5  && \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 data\cf5 \strokec5 ) ? \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 data\cf5 \strokec5  : \{\};\cb1 \
\
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 outW\cf5 \strokec5  = (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 outWeight\cf5 \strokec5  !== \cf7 \strokec7 undefined\cf5 \strokec5  && \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 outWeight\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5  && \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 outWeight\cf5 \strokec5 ).\cf15 \strokec15 trim\cf5 \strokec5 () !== \cf9 \strokec9 ""\cf5 \strokec5 ) ? \cf16 \strokec16 Number\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 outWeight\cf5 \strokec5 ) : \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 inW\cf5 \strokec5   = (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 inWeight\cf5 \strokec5   !== \cf7 \strokec7 undefined\cf5 \strokec5  && \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 inWeight\cf5 \strokec5   !== \cf7 \strokec7 null\cf5 \strokec5  && \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 inWeight\cf5 \strokec5 ).\cf15 \strokec15 trim\cf5 \strokec5 ()  !== \cf9 \strokec9 ""\cf5 \strokec5 ) ? \cf16 \strokec16 Number\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 inWeight\cf5 \strokec5 )  : \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 rdW\cf5 \strokec5   = (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 readyWeight\cf5 \strokec5  !== \cf7 \strokec7 undefined\cf5 \strokec5  && \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 readyWeight\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5  && \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 readyWeight\cf5 \strokec5 ).\cf15 \strokec15 trim\cf5 \strokec5 () !== \cf9 \strokec9 ""\cf5 \strokec5 ) ? \cf16 \strokec16 Number\cf5 \strokec5 (\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 readyWeight\cf5 \strokec5 ) : \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "outW"\cf5 \strokec5 ,   (\cf15 \strokec15 outW\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5  && !\cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 outW\cf5 \strokec5 )) ? \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 outW\cf5 \strokec5 ) : \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "inW"\cf5 \strokec5 ,    (\cf15 \strokec15 inW\cf5 \strokec5   !== \cf7 \strokec7 null\cf5 \strokec5  && !\cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 inW\cf5 \strokec5 ))  ? \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 inW\cf5 \strokec5 )  : \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "readyW"\cf5 \strokec5 , (\cf15 \strokec15 rdW\cf5 \strokec5   !== \cf7 \strokec7 null\cf5 \strokec5  && !\cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 rdW\cf5 \strokec5 ))  ? \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 rdW\cf5 \strokec5 )  : \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "OUT"\cf5 \strokec5  || \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "IN"\cf5 \strokec5  || \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "READY"\cf5 \strokec5 ) \cf15 \strokec15 tickSound\cf5 \strokec5 ();\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 outW\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5  && \cf15 \strokec15 inW\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5  && !\cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 outW\cf5 \strokec5 ) && !\cf16 \strokec16 Number\cf5 \strokec5 .\cf15 \strokec15 isNaN\cf5 \strokec5 (\cf15 \strokec15 inW\cf5 \strokec5 )) \cf15 \strokec15 setShortMaterial\cf5 \strokec5 (\cf15 \strokec15 inW\cf5 \strokec5  - \cf15 \strokec15 outW\cf5 \strokec5 );\cb1 \
\cb3         \cf7 \strokec7 else\cf5 \strokec5  \cf15 \strokec15 setShortMaterial\cf5 \strokec5 (\cf7 \strokec7 null\cf5 \strokec5 );\cb1 \
\
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberId"\cf5 \strokec5 ,   \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 memberId\cf5 \strokec5  || \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 memberId\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberName"\cf5 \strokec5 , \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 memberName\cf5 \strokec5  || \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 ocrMemberName\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "itemName"\cf5 \strokec5 ,   \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5  || \cf15 \strokec15 pendingCapture\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\
\cb3         \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "capW"\cf5 \strokec5 ,\cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\
\cb3         \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 st\cf5 \strokec5  = \cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 statusText\cf5 \strokec5  || \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 ;\cb1 \
\cb3         \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 completed\cf5 \strokec5  = !!\cf15 \strokec15 d\cf5 \strokec5 .\cf15 \strokec15 completed\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "OUT"\cf5 \strokec5 ) \{\cb1 \
\cb3           \cf15 \strokec15 st\cf5 \strokec5  = \cf9 \strokec9 "OUT 
\f1 \uc0\u9989 
\f0 "\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 showLoggedOverlay\cf5 \strokec5 ();\cb1 \
\cb3         \} \cf7 \strokec7 else\cf5 \strokec5  \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "READY"\cf5 \strokec5  || \cf15 \strokec15 completed\cf5 \strokec5  === \cf7 \strokec7 true\cf5 \strokec5 ) \{\cb1 \
\cb3           \cf15 \strokec15 st\cf5 \strokec5  = \cf9 \strokec9 "COMPLETED 
\f1 \uc0\u9989 
\f0 "\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 showLoggedOverlay\cf5 \strokec5 ();\cb1 \
\cb3         \} \cf7 \strokec7 else\cf5 \strokec5  \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "IN"\cf5 \strokec5 ) \{\cb1 \
\cb3           \cf15 \strokec15 st\cf5 \strokec5  = \cf9 \strokec9 "IN 
\f1 \uc0\u9989 
\f0 "\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf15 \strokec15 setStageText\cf5 \strokec5 (\cf15 \strokec15 st\cf5 \strokec5 , \cf15 \strokec15 completed\cf5 \strokec5  || \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "READY"\cf5 \strokec5 );\cb1 \
\
\cb3         \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\
\cb3         \cf15 \strokec15 setStatus\cf5 \strokec5 (\cb1 \
\cb3           \cf9 \strokec9 "SUCCESS 
\f1 \uc0\u9989 
\f0  "\cf5 \strokec5  + \cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  + \cf9 \strokec9 " ("\cf5 \strokec5  + \cf15 \strokec15 st\cf5 \strokec5  + \cf9 \strokec9 ")"\cf5 \strokec5  +\cb1 \
\cb3           \cf9 \strokec9 "\\n\\nTIMING:\\nSubmit call: "\cf5 \strokec5  + \cf15 \strokec15 msSub\cf5 \strokec5  + \cf9 \strokec9 " ms"\cf5 \cb1 \strokec5 \
\cb3         );\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 resp\cf5 \strokec5 .\cf15 \strokec15 stage\cf5 \strokec5  === \cf9 \strokec9 "IN"\cf5 \strokec5 ) \{\cb1 \
\cb3           \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE READY"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "IN saved 
\f1 \uc0\u9989 
\f0 \\nNow capture READY WEIGHT (click CAPTURE READY)."\cf5 \strokec5 );\cb1 \
\cb3           \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3             \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 startLiveCamera\cf5 \strokec5 ();\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "camera_on"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3           \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3             \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "IN saved 
\f1 \uc0\u9989 
\f0 \\nCamera failed for READY: "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )));\cb1 \
\cb3           \}\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\cb3         \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3         \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf15 \strokec15 window\cf5 \strokec5 .\cf15 \strokec15 captureClick\cf5 \strokec5  = \cf7 \strokec7 async\cf5 \strokec5  \cf7 \strokec7 function\cf5 \strokec5  \cf15 \strokec15 captureClick\cf5 \strokec5 ()\{\cb1 \
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 uiState\cf5 \strokec5  === \cf9 \strokec9 "idle"\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \cf7 \strokec7 null\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 textContent\cf5 \strokec5  = \cf9 \strokec9 "SUBMIT"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 style\cf5 \strokec5 .\cf15 \strokec15 display\cf5 \strokec5  = \cf9 \strokec9 "none"\cf5 \strokec5 ;\cb1 \
\
\cb3           \cf15 \strokec15 resetDisplay\cf5 \strokec5 ();\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE FRAME"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Starting live camera..."\cf5 \strokec5 );\cb1 \
\cb3           \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3             \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 startLiveCamera\cf5 \strokec5 ();\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "camera_on"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Camera ON 
\f1 \uc0\u9989 
\f0 \\nPress CAPTURE FRAME to capture image first, then OCR (Submit will be shown after OCR)."\cf5 \strokec5 );\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3           \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3             \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Camera failed: "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 name\cf5 \strokec5  ? (\cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 name\cf5 \strokec5  + \cf9 \strokec9 " - "\cf5 \strokec5  + (\cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  || \cf9 \strokec9 ""\cf5 \strokec5 )) : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )));\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3           \}\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf7 \strokec7 if\cf5 \strokec5  (\cf15 \strokec15 uiState\cf5 \strokec5  === \cf9 \strokec9 "camera_on"\cf5 \strokec5 )\{\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "PROCESSING..."\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Capturing image (freezing frame)..."\cf5 \strokec5 );\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 dataUrl\cf5 \strokec5  = \cf15 \strokec15 captureDataUrlFull\cf5 \strokec5 ();\cb1 \
\
\cb3           \cf15 \strokec15 stopLiveCamera\cf5 \strokec5 ();\cb1 \
\
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 tAll0\cf5 \strokec5  = \cf15 \strokec15 performance\cf5 \strokec5 .\cf15 \strokec15 now\cf5 \strokec5 ();\cb1 \
\
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Image captured 
\f1 \uc0\u9989 
\f0 \\nRunning OCR..."\cf5 \strokec5 );\cb1 \
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 tOcr0\cf5 \strokec5  = \cf15 \strokec15 performance\cf5 \strokec5 .\cf15 \strokec15 now\cf5 \strokec5 ();\cb1 \
\cb3           \cf7 \strokec7 let\cf5 \strokec5  \cf15 \strokec15 r\cf5 \strokec5 ;\cb1 \
\cb3           \cf7 \strokec7 try\cf5 \strokec5 \{\cb1 \
\cb3             \cf15 \strokec15 r\cf5 \strokec5  = \cf7 \strokec7 await\cf5 \strokec5  \cf15 \strokec15 callServer\cf5 \strokec5 (\cf9 \strokec9 "visionExtract"\cf5 \strokec5 , [\cf15 \strokec15 dataUrl\cf5 \strokec5 ]);\cb1 \
\cb3           \}\cf7 \strokec7 catch\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )\{\cb1 \
\cb3             \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 msOcr\cf5 \strokec5  = \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 tOcr0\cf5 \strokec5 );\cb1 \
\
\cb3             \cf15 \strokec15 setStatus\cf5 \strokec5 (\cb1 \
\cb3               \cf9 \strokec9 "ERROR: OCR call failed\\n"\cf5 \strokec5  +\cb1 \
\cb3               (\cf15 \strokec15 err\cf5 \strokec5  && \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 err\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 err\cf5 \strokec5 )) +\cb1 \
\cb3               \cf9 \strokec9 "\\n\\nTIMING:\\nOCR call: "\cf5 \strokec5  + \cf15 \strokec15 msOcr\cf5 \strokec5  + \cf9 \strokec9 " ms"\cf5 \cb1 \strokec5 \
\cb3             );\cb1 \
\
\cb3             \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3             \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3           \}\cb1 \
\
\cb3           \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 msOcr\cf5 \strokec5  = \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 tOcr0\cf5 \strokec5 );\cb1 \
\
\cb3           \cf7 \strokec7 if\cf5 \strokec5  (!\cf15 \strokec15 r\cf5 \strokec5  || !\cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 ok\cf5 \strokec5 )\{\cb1 \
\cb3             \cf7 \strokec7 const\cf5 \strokec5  \cf15 \strokec15 msAll\cf5 \strokec5  = \cf15 \strokec15 _ms_\cf5 \strokec5 (\cf15 \strokec15 tAll0\cf5 \strokec5 );\cb1 \
\
\cb3             \cf15 \strokec15 callServerNoWait\cf5 \strokec5 (\cf9 \strokec9 "postFailTasks"\cf5 \strokec5 , [\cb1 \
\cb3               \cf15 \strokec15 dataUrl\cf5 \strokec5 ,\cb1 \
\cb3               (\cf15 \strokec15 r\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5 ) ? \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf9 \strokec9 "OCR failed"\cf5 \strokec5 ,\cb1 \
\cb3               (\cf15 \strokec15 r\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 rawText\cf5 \strokec5 ) ? \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 rawText\cf5 \strokec5  : \cf9 \strokec9 ""\cf5 \cb1 \strokec5 \
\cb3             ]);\cb1 \
\
\cb3             \cf15 \strokec15 setStatus\cf5 \strokec5 (\cb1 \
\cb3               \cf9 \strokec9 "ERROR: OCR failed.\\n"\cf5 \strokec5  +\cb1 \
\cb3               (\cf15 \strokec15 r\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  ? \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 message\cf5 \strokec5  : \cf9 \strokec9 "Unknown OCR error"\cf5 \strokec5 ) +\cb1 \
\cb3               \cf9 \strokec9 "\\n\\nERROR DETAIL:\\n"\cf5 \strokec5  + (\cf15 \strokec15 r\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 error\cf5 \strokec5  ? \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 error\cf5 \strokec5  : \cf9 \strokec9 ""\cf5 \strokec5 ) +\cb1 \
\cb3               \cf9 \strokec9 "\\n\\nRAW:\\n"\cf5 \strokec5  + (\cf15 \strokec15 r\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 rawText\cf5 \strokec5  ? \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 rawText\cf5 \strokec5  : \cf9 \strokec9 ""\cf5 \strokec5 ) +\cb1 \
\cb3               \cf9 \strokec9 "\\n\\nTIMING:\\nOCR call: "\cf5 \strokec5  + \cf15 \strokec15 msOcr\cf5 \strokec5  + \cf9 \strokec9 " ms\\nTOTAL: "\cf5 \strokec5  + \cf15 \strokec15 msAll\cf5 \strokec5  + \cf9 \strokec9 " ms"\cf5 \cb1 \strokec5 \
\cb3             );\cb1 \
\
\cb3             \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3             \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "idle"\cf5 \strokec5 ;\cb1 \
\cb3             \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3             \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3           \}\cb1 \
\
\cb3           \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberId"\cf5 \strokec5 , \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 memberId\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "memberName"\cf5 \strokec5 , \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 memberName\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "itemName"\cf5 \strokec5 , \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5  || \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setText\cf5 \strokec5 (\cf9 \strokec9 "capW"\cf5 \strokec5 , (\cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 weight\cf5 \strokec5  !== \cf7 \strokec7 undefined\cf5 \strokec5  && \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 weight\cf5 \strokec5  !== \cf7 \strokec7 null\cf5 \strokec5 ) ? \cf16 \strokec16 String\cf5 \strokec5 (\cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 weight\cf5 \strokec5 ) : \cf9 \strokec9 "-"\cf5 \strokec5 );\cb1 \
\
\cb3           \cf15 \strokec15 pendingCapture\cf5 \strokec5  = \{\cb1 \
\cb3             \cf15 \strokec15 memberId\cf5 \strokec5 : \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 memberId\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 itemName\cf5 \strokec5 : \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 weight\cf5 \strokec5 : \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 weight\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 dataUrl\cf5 \strokec5 : \cf15 \strokec15 dataUrl\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 ocrMemberName\cf5 \strokec5 : \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 memberName\cf5 \strokec5  || \cf9 \strokec9 ""\cf5 \strokec5 ,\cb1 \
\cb3             \cf15 \strokec15 ocrItemName\cf5 \strokec5 : \cf15 \strokec15 r\cf5 \strokec5 .\cf15 \strokec15 itemName\cf5 \strokec5  || \cf9 \strokec9 ""\cf5 \cb1 \strokec5 \
\cb3           \};\cb1 \
\
\cb3           \cf15 \strokec15 uiState\cf5 \strokec5  = \cf9 \strokec9 "await_submit"\cf5 \strokec5 ;\cb1 \
\cb3           \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3           \cf15 \strokec15 setStatus\cf5 \strokec5 (\cb1 \
\cb3             \cf9 \strokec9 "OCR DONE 
\f1 \uc0\u9989 
\f0 \\n"\cf5 \strokec5  +\cb1 \
\cb3             \cf9 \strokec9 "Press SUBMIT to upload & sync to Google Sheet.\\n\\n"\cf5 \strokec5  +\cb1 \
\cb3             \cf9 \strokec9 "TIMING:\\nOCR call: "\cf5 \strokec5  + \cf15 \strokec15 msOcr\cf5 \strokec5  + \cf9 \strokec9 " ms"\cf5 \cb1 \strokec5 \
\cb3           );\cb1 \
\
\cb3           \cf15 \strokec15 showSubmitButtonOnly\cf5 \strokec5 ();\cb1 \
\cb3           \cf7 \strokec7 return\cf5 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3       \}\cb1 \
\
\cb3       \cf15 \strokec15 resetDisplay\cf5 \strokec5 ();\cb1 \
\cb3       \cf15 \strokec15 setBtn\cf5 \strokec5 (\cf9 \strokec9 "CAPTURE"\cf5 \strokec5 );\cb1 \
\cb3       \cf15 \strokec15 setStatus\cf5 \strokec5 (\cf9 \strokec9 "Press CAPTURE to start live camera."\cf5 \strokec5 );\cb1 \
\
\cb3       \cf15 \strokec15 document\cf5 \strokec5 .\cf15 \strokec15 getElementById\cf5 \strokec5 (\cf9 \strokec9 "btnCapture"\cf5 \strokec5 ).\cf15 \strokec15 addEventListener\cf5 \strokec5 (\cf9 \strokec9 "click"\cf5 \strokec5 , \cf15 \strokec15 captureClick\cf5 \strokec5 );\cb1 \
\cb3       \cf15 \strokec15 btnCaptureFixed\cf5 \strokec5 .\cf15 \strokec15 addEventListener\cf5 \strokec5 (\cf9 \strokec9 "click"\cf5 \strokec5 , \cf15 \strokec15 captureClick\cf5 \strokec5 );\cb1 \
\
\cb3       \cf15 \strokec15 btnSubmit\cf5 \strokec5 .\cf15 \strokec15 addEventListener\cf5 \strokec5 (\cf9 \strokec9 "click"\cf5 \strokec5 , \cf15 \strokec15 submitClick\cf5 \strokec5 );\cb1 \
\cb3       \cf15 \strokec15 btnReset\cf5 \strokec5 .\cf15 \strokec15 addEventListener\cf5 \strokec5 (\cf9 \strokec9 "click"\cf5 \strokec5 , \cf15 \strokec15 resetClick\cf5 \strokec5 );\cb1 \
\
\cb3       \cf15 \strokec15 showCaptureButtons\cf5 \strokec5 ();\cb1 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 script\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3   \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\
\cb3   \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "overlayDone"\cf5 \strokec5  \cf8 \strokec8 id\cf6 \strokec6 =\cf9 \strokec9 "overlayDone"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "overlayCard"\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "overlayTick"\cf6 \strokec6 >
\f1 \cf5 \strokec5 \uc0\u9989 
\f0 \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3       \cf6 \strokec6 <\cf7 \strokec7 div\cf5 \strokec5  \cf8 \strokec8 class\cf6 \strokec6 =\cf9 \strokec9 "overlayText"\cf6 \strokec6 >\cf5 \strokec5 LOGGED COMPLETED\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cb3   \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 </\cf7 \strokec7 body\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
\cf6 \cb3 \strokec6 </\cf7 \strokec7 html\cf6 \strokec6 >\cf5 \cb1 \strokec5 \
}