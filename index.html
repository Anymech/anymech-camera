<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #1443ae; -webkit-text-stroke: #1443ae}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #12737e; -webkit-text-stroke: #12737e}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #a20010; -webkit-text-stroke: #a20010}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133; min-height: 15.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6103ad; -webkit-text-stroke: #6103ad}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #137646; -webkit-text-stroke: #137646}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #156227; -webkit-text-stroke: #156227}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #18191b; -webkit-text-stroke: #18191b}
    span.s1 {font-kerning: none; background-color: #f6f7f9}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #f6f7f9; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #f6f7f9; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #2e3133; background-color: #f6f7f9; -webkit-text-stroke: 0px #2e3133}
    span.s5 {font-kerning: none; color: #1443ae; background-color: #f6f7f9; -webkit-text-stroke: 0px #1443ae}
    span.s6 {font-kerning: none; color: #a20010; background-color: #f6f7f9; -webkit-text-stroke: 0px #a20010}
    span.s7 {font-kerning: none; color: #12737e; background-color: #f6f7f9; -webkit-text-stroke: 0px #12737e}
    span.s8 {font-kerning: none; color: #6103ad; background-color: #f6f7f9; -webkit-text-stroke: 0px #6103ad}
    span.s9 {font-kerning: none; color: #137646; background-color: #f6f7f9; -webkit-text-stroke: 0px #137646}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #093c94; background-color: #f6f7f9; -webkit-text-stroke: 0px #093c94}
    span.s12 {font: 13.0px 'Apple Color Emoji'; font-kerning: none; background-color: #f6f7f9}
    span.s13 {font-kerning: none; color: #18191b; background-color: #f6f7f9; -webkit-text-stroke: 0px #18191b}
    span.s14 {font-kerning: none; color: #ba0673; background-color: #f6f7f9; -webkit-text-stroke: 0px #ba0673}
    span.s15 {font: 13.0px 'Apple Color Emoji'; font-kerning: none; color: #a20010; background-color: #f6f7f9; -webkit-text-stroke: 0px #a20010}
    span.s16 {font: 13.0px 'Apple Color Emoji'; font-kerning: none; color: #2e3133; background-color: #f6f7f9; -webkit-text-stroke: 0px #2e3133}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!doctype</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s5">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s6">"utf-8"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s5">meta</span><span class="s4"> </span><span class="s7">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s7">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s5">title</span><span class="s3">&gt;</span><span class="s1">Anymech Live Capture</span><span class="s3">&lt;/</span><span class="s5">title</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">body</span><span class="s4">{</span><span class="s1">font-family:</span><span class="s6">system-ui</span><span class="s4">,</span><span class="s6">Arial</span><span class="s4">;</span><span class="s1">margin:</span><span class="s9">16px</span><span class="s4">;</span><span class="s1">max-width:</span><span class="s9">900px</span><span class="s4">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.appFrame</span><span class="s4">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">border:</span><span class="s9">1px</span><span class="s1"> </span><span class="s6">solid</span><span class="s1"> </span><span class="s11">#e6e6e6</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">padding:</span><span class="s9">18px</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">box-shadow:</span><span class="s1">0</span><span class="s4"> </span><span class="s1">14px</span><span class="s4"> </span><span class="s1">40px</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0.10</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s11">#fff</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.brandTitle</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">color:</span><span class="s11">#0b5ed7</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">letter-spacing:</span><span class="s9">0.6px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">text-align:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> FULL SCREEN CAMERA PREVIEW */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.camWrap</span><span class="s4">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">100vw</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">height:</span><span class="s1"> </span><span class="s9">100vh</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">fixed</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">inset:</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">padding-top:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s11">#000</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">overflow:</span><span class="s4"> </span><span class="s6">hidden</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">z-index:</span><span class="s1"> </span><span class="s9">9990</span><span class="s1">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s1">/* only show when camera is ON */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.camWrap</span><span class="s4"> </span><span class="s1">video</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">inset:</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">object-fit:</span><span class="s4"> </span><span class="s6">cover</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.card</span><span class="s4">{</span><span class="s1">border:</span><span class="s9">1px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4"> </span><span class="s11">#ddd</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">14px</span><span class="s4">;</span><span class="s1">padding:</span><span class="s9">14px</span><span class="s4">;</span><span class="s1">margin:</span><span class="s9">12px</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span><span class="s1">background:</span><span class="s11">#fff</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.status</span><span class="s4">{</span><span class="s1">background:</span><span class="s11">#f6f6f6</span><span class="s4">;</span><span class="s1">padding:</span><span class="s9">12px</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">10px</span><span class="s4">;</span><span class="s1">margin-top:</span><span class="s9">10px</span><span class="s4">;</span><span class="s1">white-space:</span><span class="s6">pre-wrap</span><span class="s4">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.kv</span><span class="s4">{</span><span class="s1">display:</span><span class="s6">grid</span><span class="s4">;</span><span class="s1">grid-template-columns:</span><span class="s9">180px</span><span class="s4"> </span><span class="s9">1fr</span><span class="s4">;</span><span class="s1">gap:</span><span class="s9">10px</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.kv</span><span class="s4"> </span><span class="s8">div</span><span class="s4">{</span><span class="s1">padding:</span><span class="s9">8px</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span><span class="s1">border-bottom:</span><span class="s9">1px</span><span class="s4"> </span><span class="s6">dashed</span><span class="s4"> </span><span class="s11">#eee</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.label</span><span class="s4">{</span><span class="s1">font-weight:</span><span class="s9">700</span><span class="s4">}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.kv</span><span class="s4"> </span><span class="s1">div:nth-child</span><span class="s4">(2</span><span class="s1">n</span><span class="s4">){</span><span class="s7">font-weight:</span><span class="s9">800</span><span class="s4">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">video</span><span class="s4">{</span><span class="s1">width:</span><span class="s9">100%</span><span class="s4">;</span><span class="s1">aspect-ratio:</span><span class="s9">1</span><span class="s4">/</span><span class="s9">1</span><span class="s4">;</span><span class="s1">object-fit:</span><span class="s6">cover</span><span class="s4">;</span><span class="s1">background:</span><span class="s11">#000</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">12px</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">canvas</span><span class="s4">{</span><span class="s1">display:</span><span class="s6">none</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.ok</span><span class="s4">{</span><span class="s1">color:</span><span class="s11">#0a7a0a</span><span class="s4">;</span><span class="s1">font-weight:</span><span class="s9">800</span><span class="s4">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.guideLine</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">position:</span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">left:</span><span class="s9">0</span><span class="s4">; </span><span class="s1">right:</span><span class="s9">0</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">height:</span><span class="s9">2px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s6">rgba(</span><span class="s9">255</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0.85</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">top:</span><span class="s9">50%</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">pointer-events:</span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.guideLabel</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">position:</span><span class="s6">absolute</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">left:</span><span class="s9">10px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">top:</span><span class="s6">calc(</span><span class="s9">50%</span><span class="s1"> - </span><span class="s9">22px</span><span class="s6">)</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0.55</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">color:</span><span class="s11">#fff</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">12px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">4px</span><span class="s1"> </span><span class="s9">8px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">pointer-events:</span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> CAPTURE BUTTON ON TOP OF FULL SCREEN CAMERA */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.btn</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s9">100%</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">padding:</span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">border:</span><span class="s9">1px</span><span class="s1"> </span><span class="s6">solid</span><span class="s1"> </span><span class="s11">#b9b9b9</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">cursor:</span><span class="s6">pointer</span><span class="s1">;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">background:</span><span class="s1">linear-gradient(</span><span class="s11">#ffffff</span><span class="s4">,</span><span class="s11">#f1f1f1</span><span class="s1">)</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow:</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>0 10px 0 #d0d0d0,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>0 18px 28px rgba(0,0,0,0.12);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">transition:</span><span class="s1">transform</span><span class="s4"> </span><span class="s9">0.08s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">, </span><span class="s1">box-shadow</span><span class="s4"> </span><span class="s9">0.08s</span><span class="s4"> </span><span class="s1">ease</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">user-select:</span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">-webkit-tap-highlight-color:</span><span class="s6">transparent</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.btn:active</span><span class="s4">{</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">transform:</span><span class="s1">translateY(</span><span class="s9">6px</span><span class="s1">)</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow:</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>0 4px 0 #d0d0d0,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>0 10px 18px rgba(0,0,0,0.12);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> button fixed bottom-center while camera full screen */</span></p>
<p class="p7"><span class="s1">.btnFixed</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">fixed</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s4">;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">transform:</span><span class="s4"> </span><span class="s1">translateX(</span><span class="s9">-50%</span><span class="s1">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">9992</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">width:</span><span class="s4"> </span><span class="s6">min(</span><span class="s1">92vw</span><span class="s4">, </span><span class="s1">420px</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s1">/* show only when camera is ON */</span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.hlRed</span><span class="s4">{</span><span class="s1">background:</span><span class="s11">#ffcccc</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">10px</span><span class="s4">;</span><span class="s1">padding:</span><span class="s9">6px</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span><span class="s1">display:</span><span class="s6">inline-block</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.hlGreen</span><span class="s4">{</span><span class="s1">background:</span><span class="s11">#ccffcc</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">10px</span><span class="s4">;</span><span class="s1">padding:</span><span class="s9">6px</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">;</span><span class="s1">display:</span><span class="s6">inline-block</span><span class="s4">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> ADDED: mobile view (no logic change) */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 520</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span>body{</span><span class="s1">margin:</span><span class="s9">10px</span><span class="s4">;</span><span class="s1">max-width:</span><span class="s9">100%</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.appFrame</span><span class="s4">{</span><span class="s1">padding:</span><span class="s9">12px</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">18px</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.card</span><span class="s4">{</span><span class="s1">margin:</span><span class="s9">10px</span><span class="s4"> </span><span class="s9">0</span><span class="s4">;</span><span class="s1">padding:</span><span class="s9">12px</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.kv</span><span class="s4">{</span><span class="s1">grid-template-columns:</span><span class="s9">140px</span><span class="s4"> </span><span class="s9">1fr</span><span class="s4">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.btn</span><span class="s4">{</span><span class="s1">padding:</span><span class="s9">24px</span><span class="s4">;</span><span class="s1">font-size:</span><span class="s9">22px</span><span class="s4">;</span><span class="s1">border-radius:</span><span class="s9">18px</span><span class="s4">}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">.brandTitle</span><span class="s4">{</span><span class="s7">font-size:</span><span class="s9">22px</span><span class="s4">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> ADDED: overlay for "LOGGED COMPLETED" */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.overlayDone</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">position:</span><span class="s6">fixed</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">inset:</span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">display:</span><span class="s6">none</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">align-items:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">justify-content:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0.18</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">z-index:</span><span class="s9">9999</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.overlayCard</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">background:</span><span class="s11">#fff</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">22px</span><span class="s1"> </span><span class="s9">18px</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">box-shadow:</span><span class="s1">0</span><span class="s4"> </span><span class="s1">18px</span><span class="s4"> </span><span class="s1">50px</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0</span><span class="s4">,</span><span class="s1">0.20</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">text-align:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s6">min(</span><span class="s9">320px</span><span class="s1">, </span><span class="s9">88vw</span><span class="s6">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.overlayTick</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">64px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">line-height:</span><span class="s9">1</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">color:</span><span class="s11">#0a7a0a</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">margin-bottom:</span><span class="s9">10px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.overlayText</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">18px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">color:</span><span class="s11">#0a7a0a</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">letter-spacing:</span><span class="s9">0.4px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> MOBILE VIEW ENHANCEMENT â€“ DO NOT AFFECT DESKTOP */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">) {</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>body{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s9">8px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">.appFrame</span><span class="s4">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">20px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">h2</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">text-align:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.card</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">18px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.kv</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">grid-template-columns:</span><span class="s4"> </span><span class="s9">140px</span><span class="s4"> </span><span class="s9">1fr</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">gap:</span><span class="s9">14px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.kv</span><span class="s1"> </span><span class="s8">div</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">18px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">12px</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.label</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">18px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">800</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">video</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.btn</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">26px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s9">18px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.status</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">16px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">16px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.appTitle</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">text-align:</span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">38px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">color:</span><span class="s11">#0b4fd6</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">letter-spacing:</span><span class="s9">1.2px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s9">6px</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">18px</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">ðŸ”¥</span><span class="s1"> Bigger capture details for mobile */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">.kv</span><span class="s1"> </span><span class="s8">div</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s9">16px</span><span class="s1"> </span><span class="s9">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">.label</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* Values on right side */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#memberId</span><span class="s4">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#memberName</span><span class="s4">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#itemName</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">#outW</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s8">#inW</span><span class="s1">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#readyW</span><span class="s4">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#stage</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s9">800</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>.appTitle{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">42px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.kv</span><span class="s1"> </span><span class="s8">div</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">.label</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">#memberId</span><span class="s4">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">#memberName</span><span class="s4">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">#itemName</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">#outW</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">#inW</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">#readyW</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s8">#stage</span><span class="s1">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> Centered bottom CAPTURE button (layout only) */</span></p>
<p class="p7"><span class="s1">#btnCapture</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">block</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">margin:</span><span class="s4"> </span><span class="s9">28px</span><span class="s4"> </span><span class="s6">auto</span><span class="s4"> </span><span class="s9">6px</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">; </span><span class="s1">/* center + push to bottom of layout */</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">width:</span><span class="s4"> </span><span class="s6">min(</span><span class="s1">92%</span><span class="s4">, </span><span class="s1">420px</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">30px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">26px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* </span><span class="s12">ðŸ“±</span><span class="s1"> Bigger &amp; thumb-friendly on mobile */</span></p>
<p class="p7"><span class="s4">@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  </span>#btnCapture{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">94%</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">34px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">28px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  </span>}</span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p9"><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> CAPTURE button at very bottom after all details */</span></p>
<p class="p7"><span class="s1">#btnCapture</span><span class="s4">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">block</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">margin:</span><span class="s4"> </span><span class="s9">32px</span><span class="s4"> </span><span class="s6">auto</span><span class="s4"> </span><span class="s9">12px</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">; </span><span class="s1">/* pushes it BELOW details */</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s7">width:</span><span class="s4"> </span><span class="s6">min(</span><span class="s1">94%</span><span class="s4">, </span><span class="s1">460px</span><span class="s6">)</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">32px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">28px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s1">/* </span><span class="s12">ðŸ“±</span><span class="s1"> Mobile emphasis */</span></p>
<p class="p7"><span class="s4">@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  </span>#btnCapture{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">96%</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">36px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">30px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  </span>}</span></p>
<p class="p5"><span class="s1">}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> ADDED: match SUBMIT bottom styling (no logic change) */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#btnSubmit</span><span class="s4">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">display:</span><span class="s1"> </span><span class="s6">block</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s1"> </span><span class="s9">32px</span><span class="s1"> </span><span class="s6">auto</span><span class="s1"> </span><span class="s9">12px</span><span class="s1"> </span><span class="s6">auto</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s6">min(</span><span class="s9">94%</span><span class="s1">, </span><span class="s9">460px</span><span class="s6">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s1"> </span><span class="s9">32px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">28px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>#btnSubmit{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">96%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s1"> </span><span class="s9">36px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">font-size:</span><span class="s1"> </span><span class="s9">30px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">/* </span><span class="s12">âœ…</span><span class="s1"> ADDED: match RESET bottom styling (no logic change) */</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">#btnReset</span><span class="s4">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">display:</span><span class="s1"> </span><span class="s6">block</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">margin:</span><span class="s1"> </span><span class="s9">12px</span><span class="s1"> </span><span class="s6">auto</span><span class="s1"> </span><span class="s9">12px</span><span class="s1"> </span><span class="s6">auto</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s6">min(</span><span class="s9">94%</span><span class="s1">, </span><span class="s9">460px</span><span class="s6">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s1"> </span><span class="s9">32px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">28px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">900</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">22px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">Â  Â  </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">max-width:</span><span class="s4"> 768</span><span class="s1">px</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>#btnReset{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">width:</span><span class="s1"> </span><span class="s9">96%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">padding:</span><span class="s1"> </span><span class="s9">36px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s7">font-size:</span><span class="s1"> </span><span class="s9">30px</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">24px</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"appFrame"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">h1</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"appTitle"</span><span class="s3">&gt;</span><span class="s1">ANYMECH PRODUCTS</span><span class="s3">&lt;/</span><span class="s5">h1</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"card"</span><span class="s3">&gt;</span></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">&lt;!-- </span><span class="s12">âœ…</span><span class="s1"> Full screen camera layer --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"camWrap"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"camWrap"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">video</span><span class="s4"> </span><span class="s1">id</span><span class="s3">=</span><span class="s6">"video"</span><span class="s4"> </span><span class="s1">autoplay</span><span class="s4"> </span><span class="s1">playsinline</span><span class="s3">&gt;&lt;/</span><span class="s5">video</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"guideLine"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"guideLabel"</span><span class="s3">&gt;</span><span class="s1">Top: Card | Bottom: Scale</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s1">canvas</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"canvas"</span><span class="s3">&gt;&lt;/</span><span class="s1">canvas</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">&lt;!-- </span><span class="s12">âœ…</span><span class="s1"> full-screen fixed button (same id? NO â€“ keep original unchanged) --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"btnFixed"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"btnFixedWrap"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"btnCaptureFixed"</span><span class="s3">&gt;</span><span class="s4">CAPTURE</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"status"</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"status"</span><span class="s3">&gt;</span><span class="s1">Press CAPTURE to start live camera.</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"card"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"kv"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">NEW M.NO</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"memberId"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">MEMBER NAME</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"memberName"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">ITEM NAME</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"itemName"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">CAPTURED WEIGHT (PREVIEW)</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"capW"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">OUT WEIGHT</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"outW"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">IN WEIGHT</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"inW"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">READY WEIGHT</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"readyW"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">SHORT MATERIAL</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"shortMat"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"label"</span><span class="s3">&gt;</span><span class="s1">STATUS</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"stage"</span><span class="s3">&gt;</span><span class="s1">-</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p10"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s1">&lt;!-- </span><span class="s12">âœ…</span><span class="s1"> MOVED: buttons after details at bottom of app --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"btnCapture"</span><span class="s3">&gt;</span><span class="s4">CAPTURE</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"btnSubmit"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"display:none;"</span><span class="s3">&gt;</span><span class="s4">SUBMIT</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"btnReset"</span><span class="s4"> </span><span class="s7">style</span><span class="s3">=</span><span class="s1">"display:none;"</span><span class="s3">&gt;</span><span class="s4">RESET</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">onerror</span><span class="s4"> = </span><span class="s5">function</span><span class="s4"> (</span><span class="s1">msg</span><span class="s4">, </span><span class="s1">src</span><span class="s4">, </span><span class="s1">line</span><span class="s4">, </span><span class="s1">col</span><span class="s4">, </span><span class="s1">err</span><span class="s4">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">s</span><span class="s1"> = </span><span class="s6">"JS ERROR: "</span><span class="s1"> + </span><span class="s13">msg</span><span class="s1"> + </span><span class="s6">"\n"</span><span class="s1"> + (</span><span class="s13">src</span><span class="s1">||</span><span class="s6">""</span><span class="s1">) + </span><span class="s6">":"</span><span class="s1"> + </span><span class="s13">line</span><span class="s1"> + </span><span class="s6">":"</span><span class="s1"> + </span><span class="s13">col</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s4"> { </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"status"</span><span class="s4">).</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">s</span><span class="s4">; } </span><span class="s5">catch</span><span class="s4">(</span><span class="s1">e</span><span class="s4">) {}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">return</span><span class="s4"> </span><span class="s1">false</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>};</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> FIX: _ms_ must exist before any catch uses it</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">_ms_</span><span class="s4">(</span><span class="s1">t0</span><span class="s4">){ </span><span class="s5">return</span><span class="s4"> </span><span class="s14">Math</span><span class="s4">.</span><span class="s1">round</span><span class="s4">((</span><span class="s1">performance</span><span class="s4">.</span><span class="s1">now</span><span class="s4">() - </span><span class="s1">t0</span><span class="s4">)); }</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">stream</span><span class="s1"> = </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: holds captured OCR result until SUBMIT is clicked</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">let</span><span class="s4"> </span><span class="s13">pendingCapture</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">; </span><span class="s1">// { memberId, itemName, weight, dataUrl, ocrMemberName, ocrItemName }</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">video</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"video"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">canvas</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"canvas"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">camWrap</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"camWrap"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">btnFixedWrap</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnFixedWrap"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">btnCaptureFixed</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCaptureFixed"</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: submit &amp; reset button ref</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">btnSubmit</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnSubmit"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">btnReset</span><span class="s4"><span class="Apple-converted-space">Â  </span>= </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnReset"</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">setStatus</span><span class="s4">(</span><span class="s1">t</span><span class="s4">){ </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"status"</span><span class="s4">).</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">t</span><span class="s4">; }</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">setBtn</span><span class="s4">(</span><span class="s1">t</span><span class="s4">){ </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">t</span><span class="s4">; </span><span class="s1">btnCaptureFixed</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">t</span><span class="s4">; }</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">setText</span><span class="s4">(</span><span class="s1">id</span><span class="s4">, </span><span class="s1">t</span><span class="s4">){ </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s1">id</span><span class="s4">).</span><span class="s1">textContent</span><span class="s4"> = (</span><span class="s1">t</span><span class="s4"> ?? </span><span class="s6">"-"</span><span class="s4">); }</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">setStageText</span><span class="s4">(</span><span class="s1">t</span><span class="s4">, </span><span class="s1">completed</span><span class="s4">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">el</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"stage"</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">el</span><span class="s1">.</span><span class="s13">textContent</span><span class="s1"> = </span><span class="s13">t</span><span class="s1"> ?? </span><span class="s6">"-"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">el</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s1">completed</span><span class="s4"> ? </span><span class="s6">"ok"</span><span class="s4"> : </span><span class="s6">""</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">setShortMaterial</span><span class="s4">(</span><span class="s1">v</span><span class="s4">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">el</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"shortMat"</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">el</span><span class="s1">.</span><span class="s13">className</span><span class="s1"> = </span><span class="s6">""</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">v</span><span class="s1"> === </span><span class="s5">null</span><span class="s1"> || </span><span class="s13">v</span><span class="s1"> === </span><span class="s5">undefined</span><span class="s1"> || </span><span class="s13">v</span><span class="s1"> === </span><span class="s6">""</span><span class="s1"> || </span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">v</span><span class="s1">)){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">el</span><span class="s1">.</span><span class="s13">textContent</span><span class="s1"> = </span><span class="s6">"-"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">n</span><span class="s1"> = </span><span class="s14">Number</span><span class="s1">(</span><span class="s13">v</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">el</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">n</span><span class="s4">.</span><span class="s1">toFixed</span><span class="s4">(</span><span class="s7">3</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">n</span><span class="s1"> &lt; -</span><span class="s7">0.200</span><span class="s1">) </span><span class="s13">el</span><span class="s1">.</span><span class="s13">className</span><span class="s1"> = </span><span class="s6">"hlRed"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">else</span><span class="s1"> </span><span class="s5">if</span><span class="s1"> (</span><span class="s13">n</span><span class="s1"> &gt; </span><span class="s7">0.200</span><span class="s1">) </span><span class="s13">el</span><span class="s1">.</span><span class="s13">className</span><span class="s1"> = </span><span class="s6">"hlGreen"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s1"> </span><span class="s13">tickSound</span><span class="s1">(){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">ctx</span><span class="s4"> = </span><span class="s5">new</span><span class="s4"> (</span><span class="s1">window</span><span class="s4">.</span><span class="s14">AudioContext</span><span class="s4"> || </span><span class="s1">window</span><span class="s4">.</span><span class="s1">webkitAudioContext</span><span class="s4">)();</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">o</span><span class="s4"> = </span><span class="s1">ctx</span><span class="s4">.</span><span class="s1">createOscillator</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">g</span><span class="s1"> = </span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">createGain</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">o</span><span class="s1">.</span><span class="s13">type</span><span class="s1"> = </span><span class="s6">"square"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">o</span><span class="s1">.</span><span class="s13">frequency</span><span class="s1">.</span><span class="s13">value</span><span class="s1"> = </span><span class="s7">1200</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">g</span><span class="s1">.</span><span class="s13">gain</span><span class="s1">.</span><span class="s13">value</span><span class="s1"> = </span><span class="s7">0.06</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">o</span><span class="s4">.</span><span class="s1">connect</span><span class="s4">(</span><span class="s1">g</span><span class="s4">); </span><span class="s1">g</span><span class="s4">.</span><span class="s1">connect</span><span class="s4">(</span><span class="s1">ctx</span><span class="s4">.</span><span class="s1">destination</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">o</span><span class="s1">.</span><span class="s13">start</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setTimeout</span><span class="s1">(()=&gt;{ </span><span class="s13">o</span><span class="s1">.</span><span class="s13">stop</span><span class="s1">(); </span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">close</span><span class="s1">(); }, </span><span class="s7">90</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">){}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">showLoggedOverlay</span><span class="s4">(){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">el</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"overlayDone"</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (!</span><span class="s13">el</span><span class="s1">) </span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">el</span><span class="s1">.</span><span class="s13">style</span><span class="s1">.</span><span class="s13">display</span><span class="s1"> = </span><span class="s6">"flex"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setTimeout</span><span class="s1">(()=&gt;{ </span><span class="s13">el</span><span class="s1">.</span><span class="s13">style</span><span class="s1">.</span><span class="s13">display</span><span class="s1"> = </span><span class="s6">"none"</span><span class="s1">; }, </span><span class="s7">1000</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">resetDisplay</span><span class="s4">(){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s4">(</span><span class="s1">"memberId"</span><span class="s4">,</span><span class="s1">"-"</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s4">(</span><span class="s1">"memberName"</span><span class="s4">,</span><span class="s1">"-"</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s4">(</span><span class="s1">"itemName"</span><span class="s4">,</span><span class="s1">"-"</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"outW"</span><span class="s1">,</span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"inW"</span><span class="s1">,</span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"readyW"</span><span class="s1">,</span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">setShortMaterial</span><span class="s4">(</span><span class="s5">null</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setStageText</span><span class="s1">(</span><span class="s6">"-"</span><span class="s1">, </span><span class="s5">false</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"capW"</span><span class="s1">,</span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">callServer</span><span class="s4">(</span><span class="s1">fnName</span><span class="s4">, </span><span class="s1">args</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1"> </span><span class="s5">new</span><span class="s1"> </span><span class="s14">Promise</span><span class="s1">((</span><span class="s13">resolve</span><span class="s1">, </span><span class="s13">reject</span><span class="s1">) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>.</span><span class="s1">withSuccessHandler</span><span class="s4">(</span><span class="s1">resolve</span><span class="s4">)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>.</span><span class="s1">withFailureHandler</span><span class="s4">(</span><span class="s1">err</span><span class="s4"> =&gt; </span><span class="s1">reject</span><span class="s4">(</span><span class="s1">err</span><span class="s4">))</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>[</span><span class="s13">fnName</span><span class="s1">].</span><span class="s13">apply</span><span class="s1">(</span><span class="s5">null</span><span class="s1">, </span><span class="s13">args</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">reject</span><span class="s1">(</span><span class="s13">e</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">callServerNoWait</span><span class="s4">(</span><span class="s1">fnName</span><span class="s4">, </span><span class="s1">args</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.</span><span class="s13">withSuccessHandler</span><span class="s1">(</span><span class="s5">function</span><span class="s1">(){})</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>.</span><span class="s1">withFailureHandler</span><span class="s4">(</span><span class="s5">function</span><span class="s4">(</span><span class="s1">err</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span><span class="s6">"Background fail: "</span><span class="s1"> + (</span><span class="s13">err</span><span class="s1"> &amp;&amp; </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> ? </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> : </span><span class="s14">String</span><span class="s1">(</span><span class="s13">err</span><span class="s1">)));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>})</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>[</span><span class="s13">fnName</span><span class="s1">].</span><span class="s13">apply</span><span class="s1">(</span><span class="s5">null</span><span class="s1">, </span><span class="s13">args</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Background JS error: "</span><span class="s4"> + </span><span class="s13">e</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: button sequencing helpers (never show CAPTURE and SUBMIT together)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">showCaptureButtons</span><span class="s4">(){</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// camera ON =&gt; show fixed capture, hide normal capture</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// camera OFF =&gt; show normal capture, hide fixed capture (handled by showCameraUI)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = (</span><span class="s1">camWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> === </span><span class="s6">"block"</span><span class="s4">) ? </span><span class="s6">"none"</span><span class="s4"> : </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnFixedWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = (</span><span class="s1">camWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> === </span><span class="s6">"block"</span><span class="s4">) ? </span><span class="s6">"block"</span><span class="s4"> : </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// always hide submit/reset in capture mode</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">showSubmitButtonOnly</span><span class="s4">(){</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// submit mode is always camera OFF</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnFixedWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">showCameraUI</span><span class="s4">(</span><span class="s1">on</span><span class="s4">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">camWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s1">on</span><span class="s4"> ? </span><span class="s6">"block"</span><span class="s4"> : </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnFixedWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s1">on</span><span class="s4"> ? </span><span class="s6">"block"</span><span class="s4"> : </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> keep capture button down under camera screen</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s1">on</span><span class="s4"> ? </span><span class="s6">"none"</span><span class="s4"> : </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: enforce sequencing</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">uiState</span><span class="s1"> === </span><span class="s6">"await_submit"</span><span class="s1">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">// if somehow called while awaiting submit, still keep submit only</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnFixedWrap</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"block"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">startLiveCamera</span><span class="s4"> = </span><span class="s5">async</span><span class="s4"> </span><span class="s5">function</span><span class="s4"> </span><span class="s1">startLiveCamera</span><span class="s4">(){</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> BUGFIX: show the real reason when camera permission is blocked</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">mediaDevices</span><span class="s4"> || !</span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">mediaDevices</span><span class="s4">.</span><span class="s1">getUserMedia</span><span class="s4">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">throw</span><span class="s4"> </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Error</span><span class="s4">(</span><span class="s1">"Camera API not available in this browser/webview."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// Camera requires HTTPS (or localhost). Insecure context often shows "permission not allowed".</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">window</span><span class="s4">.</span><span class="s1">isSecureContext</span><span class="s4">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">throw</span><span class="s4"> </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Error</span><span class="s4">(</span><span class="s1">"Camera blocked: page is not HTTPS (secure). Open using https:// (or localhost)."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// Make playback more reliable on mobile</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1"> { </span><span class="s13">video</span><span class="s1">.</span><span class="s13">muted</span><span class="s1"> = </span><span class="s5">true</span><span class="s1">; } </span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">) {}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// Optional: pre-check permission status if supported (does not request permission)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">permissions</span><span class="s4"> &amp;&amp; </span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">permissions</span><span class="s4">.</span><span class="s1">query</span><span class="s4">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">st</span><span class="s4"> = </span><span class="s5">await</span><span class="s4"> </span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">permissions</span><span class="s4">.</span><span class="s1">query</span><span class="s4">({ </span><span class="s1">name</span><span class="s4">: </span><span class="s6">"camera"</span><span class="s4"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">st</span><span class="s1"> &amp;&amp; </span><span class="s13">st</span><span class="s1">.</span><span class="s13">state</span><span class="s1"> === </span><span class="s6">"denied"</span><span class="s1">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s5">throw</span><span class="s4"> </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Error</span><span class="s4">(</span><span class="s1">"Camera permission is DENIED in browser settings. Allow camera for this site and reload."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">){</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">// ignore (some browsers throw for permissions query)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">preferred</span><span class="s1"> = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">video</span><span class="s1">: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">facingMode</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s6">"environment"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">width</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s7">1920</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">height</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s7">1080</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">aspectRatio</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s7">16</span><span class="s1">/</span><span class="s7">9</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">audio</span><span class="s1">: </span><span class="s5">false</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">stream</span><span class="s4"> = </span><span class="s5">await</span><span class="s4"> </span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">mediaDevices</span><span class="s4">.</span><span class="s1">getUserMedia</span><span class="s4">(</span><span class="s1">preferred</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e1</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">stream</span><span class="s4"> = </span><span class="s5">await</span><span class="s4"> </span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">mediaDevices</span><span class="s4">.</span><span class="s1">getUserMedia</span><span class="s4">({</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">video</span><span class="s1">: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">facingMode</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s6">"environment"</span><span class="s1"> },</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">aspectRatio</span><span class="s1">: { </span><span class="s13">ideal</span><span class="s1">: </span><span class="s7">16</span><span class="s1">/</span><span class="s7">9</span><span class="s1"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">audio</span><span class="s1">: </span><span class="s5">false</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e2</span><span class="s1">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">stream</span><span class="s4"> = </span><span class="s5">await</span><span class="s4"> </span><span class="s1">navigator</span><span class="s4">.</span><span class="s1">mediaDevices</span><span class="s4">.</span><span class="s1">getUserMedia</span><span class="s4">({ </span><span class="s1">video</span><span class="s4">: </span><span class="s5">true</span><span class="s4">, </span><span class="s1">audio</span><span class="s4">: </span><span class="s5">false</span><span class="s4"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">video</span><span class="s4">.</span><span class="s1">srcObject</span><span class="s4"> = </span><span class="s1">stream</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ensure metadata ready (prevents blank capture)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s1"> </span><span class="s5">new</span><span class="s1"> </span><span class="s14">Promise</span><span class="s1">(</span><span class="s13">r</span><span class="s1"> =&gt; {</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">video</span><span class="s4">.</span><span class="s1">videoWidth</span><span class="s4"> &amp;&amp; </span><span class="s1">video</span><span class="s4">.</span><span class="s1">videoHeight</span><span class="s4">) </span><span class="s5">return</span><span class="s4"> </span><span class="s1">r</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">video</span><span class="s1">.</span><span class="s13">onloadedmetadata</span><span class="s1"> = () =&gt; </span><span class="s13">r</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s1"> </span><span class="s13">video</span><span class="s1">.</span><span class="s13">play</span><span class="s1">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// wait 1-2 frames so the camera has an actual frame rendered (prevents black captures)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s4"> </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Promise</span><span class="s4">(</span><span class="s1">r</span><span class="s4"> =&gt; </span><span class="s1">requestAnimationFrame</span><span class="s4">(</span><span class="s1">r</span><span class="s4">));</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s4"> </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Promise</span><span class="s4">(</span><span class="s1">r</span><span class="s4"> =&gt; </span><span class="s1">requestAnimationFrame</span><span class="s4">(</span><span class="s1">r</span><span class="s4">));</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">showCameraUI</span><span class="s4">(</span><span class="s5">true</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">stopLiveCamera</span><span class="s4"> = </span><span class="s5">function</span><span class="s4"> </span><span class="s1">stopLiveCamera</span><span class="s4">(){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">stream</span><span class="s1">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">stream</span><span class="s4">.</span><span class="s1">getTracks</span><span class="s4">().</span><span class="s1">forEach</span><span class="s4">(</span><span class="s1">t</span><span class="s4"> =&gt; </span><span class="s1">t</span><span class="s4">.</span><span class="s1">stop</span><span class="s4">());</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">stream</span><span class="s1"> = </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">e</span><span class="s1">){}</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">video</span><span class="s4">.</span><span class="s1">srcObject</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">showCameraUI</span><span class="s4">(</span><span class="s5">false</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">captureDataUrlFull</span><span class="s4">(){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">vw</span><span class="s1"> = </span><span class="s13">video</span><span class="s1">.</span><span class="s13">videoWidth</span><span class="s1"> || </span><span class="s7">1920</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">vh</span><span class="s1"> = </span><span class="s13">video</span><span class="s1">.</span><span class="s13">videoHeight</span><span class="s1"> || </span><span class="s7">1080</span><span class="s1">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// keep full frame (no crop)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">sy</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">sh</span><span class="s1"> = </span><span class="s13">vh</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">sx</span><span class="s1"> = </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">sw</span><span class="s1"> = </span><span class="s13">vw</span><span class="s1">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// output scaling (same as your logic)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">maxW</span><span class="s1"> = </span><span class="s7">1280</span><span class="s1">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> FORCE OUTPUT TO LANDSCAPE (rotate if the camera frame is portrait)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">isPortraitFrame</span><span class="s4"> = </span><span class="s1">vh</span><span class="s4"> &gt; </span><span class="s1">vw</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">// If portrait, after rotation width becomes "vh" and height becomes "vw"</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">baseW</span><span class="s4"> = </span><span class="s1">isPortraitFrame</span><span class="s4"> ? </span><span class="s1">vh</span><span class="s4"> : </span><span class="s1">sw</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">baseH</span><span class="s4"> = </span><span class="s1">isPortraitFrame</span><span class="s4"> ? </span><span class="s1">vw</span><span class="s4"> : </span><span class="s1">sh</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">scale</span><span class="s1"> = </span><span class="s14">Math</span><span class="s1">.</span><span class="s13">min</span><span class="s1">(</span><span class="s7">1</span><span class="s1">, </span><span class="s13">maxW</span><span class="s1"> / </span><span class="s13">baseW</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">outW</span><span class="s1"> = </span><span class="s14">Math</span><span class="s1">.</span><span class="s13">round</span><span class="s1">(</span><span class="s13">baseW</span><span class="s1"> * </span><span class="s13">scale</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">outH</span><span class="s1"> = </span><span class="s14">Math</span><span class="s1">.</span><span class="s13">round</span><span class="s1">(</span><span class="s13">baseH</span><span class="s1"> * </span><span class="s13">scale</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">canvas</span><span class="s4">.</span><span class="s1">width</span><span class="s4"> = </span><span class="s1">outW</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">canvas</span><span class="s4">.</span><span class="s1">height</span><span class="s4"> = </span><span class="s1">outH</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">ctx</span><span class="s4"> = </span><span class="s1">canvas</span><span class="s4">.</span><span class="s1">getContext</span><span class="s4">(</span><span class="s6">"2d"</span><span class="s4">, { </span><span class="s1">willReadFrequently</span><span class="s4">:</span><span class="s5">true</span><span class="s4"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">save</span><span class="s1">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">isPortraitFrame</span><span class="s4">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">translate</span><span class="s1">(</span><span class="s13">outW</span><span class="s1">, </span><span class="s7">0</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">rotate</span><span class="s1">(</span><span class="s14">Math</span><span class="s1">.</span><span class="s14">PI</span><span class="s1"> / </span><span class="s7">2</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">ctx</span><span class="s4">.</span><span class="s1">drawImage</span><span class="s4">(</span><span class="s1">video</span><span class="s4">, </span><span class="s1">sx</span><span class="s4">, </span><span class="s1">sy</span><span class="s4">, </span><span class="s1">sw</span><span class="s4">, </span><span class="s1">sh</span><span class="s4">, </span><span class="s7">0</span><span class="s4">, </span><span class="s7">0</span><span class="s4">, </span><span class="s1">outH</span><span class="s4">, </span><span class="s1">outW</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} </span><span class="s5">else</span><span class="s1"> {</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">ctx</span><span class="s4">.</span><span class="s1">drawImage</span><span class="s4">(</span><span class="s1">video</span><span class="s4">, </span><span class="s1">sx</span><span class="s4">, </span><span class="s1">sy</span><span class="s4">, </span><span class="s1">sw</span><span class="s4">, </span><span class="s1">sh</span><span class="s4">, </span><span class="s7">0</span><span class="s4">, </span><span class="s7">0</span><span class="s4">, </span><span class="s1">outW</span><span class="s4">, </span><span class="s1">outH</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">ctx</span><span class="s1">.</span><span class="s13">restore</span><span class="s1">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1"> </span><span class="s13">canvas</span><span class="s1">.</span><span class="s13">toDataURL</span><span class="s1">(</span><span class="s6">"image/jpeg"</span><span class="s1">, </span><span class="s7">0.75</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: Reset handler (discard pending capture, start capture again, do NOT submit)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">resetClick</span><span class="s4"> = </span><span class="s5">async</span><span class="s4"> </span><span class="s5">function</span><span class="s4"> </span><span class="s1">resetClick</span><span class="s4">(){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">resetDisplay</span><span class="s4">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s4">(</span><span class="s1">"CAPTURE FRAME"</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"RESET </span><span class="s12">âœ…</span><span class="s1">\nStarting camera again..."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s4"> </span><span class="s1">startLiveCamera</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"camera_on"</span><span class="s1">;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Camera ON </span><span class="s12">âœ…</span><span class="s1">\nPress CAPTURE FRAME to capture image first, then OCR (Submit will be shown after OCR)."</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">err</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span><span class="s6">"RESET </span><span class="s15">âœ…</span><span class="s6">\nCamera failed: "</span><span class="s1"> + (</span><span class="s13">err</span><span class="s1"> &amp;&amp; </span><span class="s13">err</span><span class="s1">.</span><span class="s13">name</span><span class="s1"> ? (</span><span class="s13">err</span><span class="s1">.</span><span class="s13">name</span><span class="s1"> + </span><span class="s6">" - "</span><span class="s1"> + (</span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> || </span><span class="s6">""</span><span class="s1">)) : </span><span class="s14">String</span><span class="s1">(</span><span class="s13">err</span><span class="s1">)));</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">// </span><span class="s12">âœ…</span><span class="s1"> ADDED: Submit handler (runs server submit ONLY when SUBMIT is clicked)</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">submitClick</span><span class="s4"> = </span><span class="s5">async</span><span class="s4"> </span><span class="s5">function</span><span class="s4"> </span><span class="s1">submitClick</span><span class="s4">(){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">uiState</span><span class="s1"> !== </span><span class="s6">"await_submit"</span><span class="s1"> || !</span><span class="s13">pendingCapture</span><span class="s1">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"No captured data pending. Please CAPTURE first."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">pendingCapture</span><span class="s1"> = </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">tSub0</span><span class="s4"> = </span><span class="s1">performance</span><span class="s4">.</span><span class="s1">now</span><span class="s4">();</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Submitting..."</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMITTING..."</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">resp</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">resp</span><span class="s1"> = </span><span class="s5">await</span><span class="s1"> </span><span class="s13">callServer</span><span class="s1">(</span><span class="s6">"captureFromOcr"</span><span class="s1">, [</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">memberId</span><span class="s4">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">itemName</span><span class="s4">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">weight</span><span class="s4">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">dataUrl</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>]);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">err</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">msSub</span><span class="s1"> = </span><span class="s13">_ms_</span><span class="s1">(</span><span class="s13">tSub0</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"ERROR: Submit call failed\n"</span><span class="s4"> +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>(</span><span class="s13">err</span><span class="s1"> &amp;&amp; </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> ? </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> : </span><span class="s14">String</span><span class="s1">(</span><span class="s13">err</span><span class="s1">)) +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"\n\nTIMING:\nSubmit call: "</span><span class="s4"> + </span><span class="s13">msSub</span><span class="s4"> + </span><span class="s1">" ms"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">msSub</span><span class="s1"> = </span><span class="s13">_ms_</span><span class="s1">(</span><span class="s13">tSub0</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (!</span><span class="s13">resp</span><span class="s1"> || !</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">ok</span><span class="s1">){</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">setStatus</span><span class="s4">(</span><span class="s6">"ERROR: "</span><span class="s4"> + (</span><span class="s1">resp</span><span class="s4"> &amp;&amp; </span><span class="s1">resp</span><span class="s4">.</span><span class="s1">message</span><span class="s4"> ? </span><span class="s1">resp</span><span class="s4">.</span><span class="s1">message</span><span class="s4"> : </span><span class="s6">"Unknown submit error"</span><span class="s4">));</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">d</span><span class="s1"> = (</span><span class="s13">resp</span><span class="s1"> &amp;&amp; </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">data</span><span class="s1">) ? </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">data</span><span class="s1"> : {};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">outW</span><span class="s1"> = (</span><span class="s13">d</span><span class="s1">.</span><span class="s13">outWeight</span><span class="s1"> !== </span><span class="s5">undefined</span><span class="s1"> &amp;&amp; </span><span class="s13">d</span><span class="s1">.</span><span class="s13">outWeight</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1"> &amp;&amp; </span><span class="s14">String</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">outWeight</span><span class="s1">).</span><span class="s13">trim</span><span class="s1">() !== </span><span class="s6">""</span><span class="s1">) ? </span><span class="s14">Number</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">outWeight</span><span class="s1">) : </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">inW</span><span class="s1"><span class="Apple-converted-space">Â  </span>= (</span><span class="s13">d</span><span class="s1">.</span><span class="s13">inWeight</span><span class="s1"><span class="Apple-converted-space">Â  </span>!== </span><span class="s5">undefined</span><span class="s1"> &amp;&amp; </span><span class="s13">d</span><span class="s1">.</span><span class="s13">inWeight</span><span class="s1"><span class="Apple-converted-space">Â  </span>!== </span><span class="s5">null</span><span class="s1"> &amp;&amp; </span><span class="s14">String</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">inWeight</span><span class="s1">).</span><span class="s13">trim</span><span class="s1">()<span class="Apple-converted-space">Â  </span>!== </span><span class="s6">""</span><span class="s1">) ? </span><span class="s14">Number</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">inWeight</span><span class="s1">)<span class="Apple-converted-space">Â  </span>: </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">rdW</span><span class="s1"><span class="Apple-converted-space">Â  </span>= (</span><span class="s13">d</span><span class="s1">.</span><span class="s13">readyWeight</span><span class="s1"> !== </span><span class="s5">undefined</span><span class="s1"> &amp;&amp; </span><span class="s13">d</span><span class="s1">.</span><span class="s13">readyWeight</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1"> &amp;&amp; </span><span class="s14">String</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">readyWeight</span><span class="s1">).</span><span class="s13">trim</span><span class="s1">() !== </span><span class="s6">""</span><span class="s1">) ? </span><span class="s14">Number</span><span class="s1">(</span><span class="s13">d</span><span class="s1">.</span><span class="s13">readyWeight</span><span class="s1">) : </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"outW"</span><span class="s1">, <span class="Apple-converted-space">Â  </span>(</span><span class="s13">outW</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1"> &amp;&amp; !</span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">outW</span><span class="s1">)) ? </span><span class="s14">String</span><span class="s1">(</span><span class="s13">outW</span><span class="s1">) : </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"inW"</span><span class="s1">,<span class="Apple-converted-space">Â  Â  </span>(</span><span class="s13">inW</span><span class="s1"><span class="Apple-converted-space">Â  </span>!== </span><span class="s5">null</span><span class="s1"> &amp;&amp; !</span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">inW</span><span class="s1">))<span class="Apple-converted-space">Â  </span>? </span><span class="s14">String</span><span class="s1">(</span><span class="s13">inW</span><span class="s1">)<span class="Apple-converted-space">Â  </span>: </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"readyW"</span><span class="s1">, (</span><span class="s13">rdW</span><span class="s1"><span class="Apple-converted-space">Â  </span>!== </span><span class="s5">null</span><span class="s1"> &amp;&amp; !</span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">rdW</span><span class="s1">))<span class="Apple-converted-space">Â  </span>? </span><span class="s14">String</span><span class="s1">(</span><span class="s13">rdW</span><span class="s1">)<span class="Apple-converted-space">Â  </span>: </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"OUT"</span><span class="s1"> || </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"IN"</span><span class="s1"> || </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"READY"</span><span class="s1">) </span><span class="s13">tickSound</span><span class="s1">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">outW</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1"> &amp;&amp; </span><span class="s13">inW</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1"> &amp;&amp; !</span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">outW</span><span class="s1">) &amp;&amp; !</span><span class="s14">Number</span><span class="s1">.</span><span class="s13">isNaN</span><span class="s1">(</span><span class="s13">inW</span><span class="s1">)) </span><span class="s13">setShortMaterial</span><span class="s1">(</span><span class="s13">inW</span><span class="s1"> - </span><span class="s13">outW</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">else</span><span class="s4"> </span><span class="s1">setShortMaterial</span><span class="s4">(</span><span class="s5">null</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">setText</span><span class="s4">(</span><span class="s6">"memberId"</span><span class="s4">, <span class="Apple-converted-space">Â  </span></span><span class="s1">d</span><span class="s4">.</span><span class="s1">memberId</span><span class="s4"> || </span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">memberId</span><span class="s4"> || </span><span class="s6">"-"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">setText</span><span class="s4">(</span><span class="s6">"memberName"</span><span class="s4">, </span><span class="s1">d</span><span class="s4">.</span><span class="s1">memberName</span><span class="s4"> || </span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">ocrMemberName</span><span class="s4"> || </span><span class="s6">"-"</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">setText</span><span class="s4">(</span><span class="s6">"itemName"</span><span class="s4">, <span class="Apple-converted-space">Â  </span></span><span class="s1">d</span><span class="s4">.</span><span class="s1">itemName</span><span class="s4"> || </span><span class="s1">pendingCapture</span><span class="s4">.</span><span class="s1">itemName</span><span class="s4"> || </span><span class="s6">"-"</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"capW"</span><span class="s1">,</span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">st</span><span class="s1"> = </span><span class="s13">d</span><span class="s1">.</span><span class="s13">statusText</span><span class="s1"> || </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> || </span><span class="s6">"-"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">completed</span><span class="s4"> = !!</span><span class="s1">d</span><span class="s4">.</span><span class="s1">completed</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"OUT"</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">st</span><span class="s1"> = </span><span class="s6">"OUT </span><span class="s15">âœ…</span><span class="s6">"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showLoggedOverlay</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} </span><span class="s5">else</span><span class="s1"> </span><span class="s5">if</span><span class="s1"> (</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"READY"</span><span class="s1"> || </span><span class="s13">completed</span><span class="s1"> === </span><span class="s5">true</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">st</span><span class="s1"> = </span><span class="s6">"COMPLETED </span><span class="s15">âœ…</span><span class="s6">"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showLoggedOverlay</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>} </span><span class="s5">else</span><span class="s1"> </span><span class="s5">if</span><span class="s1"> (</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"IN"</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">st</span><span class="s1"> = </span><span class="s6">"IN </span><span class="s15">âœ…</span><span class="s6">"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">setStageText</span><span class="s4">(</span><span class="s1">st</span><span class="s4">, </span><span class="s1">completed</span><span class="s4"> || </span><span class="s1">resp</span><span class="s4">.</span><span class="s1">stage</span><span class="s4"> === </span><span class="s6">"READY"</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">pendingCapture</span><span class="s4"> = </span><span class="s5">null</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s6">"SUCCESS </span><span class="s15">âœ…</span><span class="s6"> "</span><span class="s1"> + </span><span class="s13">resp</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> + </span><span class="s6">" ("</span><span class="s1"> + </span><span class="s13">st</span><span class="s1"> + </span><span class="s6">")"</span><span class="s1"> +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">"\n\nTIMING:\nSubmit call: "</span><span class="s4"> + </span><span class="s13">msSub</span><span class="s4"> + </span><span class="s1">" ms"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">resp</span><span class="s1">.</span><span class="s13">stage</span><span class="s1"> === </span><span class="s6">"IN"</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s4">(</span><span class="s1">"CAPTURE READY"</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"IN saved </span><span class="s12">âœ…</span><span class="s1">\nNow capture READY WEIGHT (click CAPTURE READY)."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s1"> </span><span class="s13">startLiveCamera</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"camera_on"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">err</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"IN saved </span><span class="s12">âœ…</span><span class="s1">\nCamera failed for READY: "</span><span class="s4"> + (</span><span class="s13">err</span><span class="s4"> &amp;&amp; </span><span class="s13">err</span><span class="s4">.</span><span class="s13">message</span><span class="s4"> ? </span><span class="s13">err</span><span class="s4">.</span><span class="s13">message</span><span class="s4"> : </span><span class="s14">String</span><span class="s4">(</span><span class="s13">err</span><span class="s4">)));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">window</span><span class="s4">.</span><span class="s1">captureClick</span><span class="s4"> = </span><span class="s5">async</span><span class="s4"> </span><span class="s5">function</span><span class="s4"> </span><span class="s1">captureClick</span><span class="s4">(){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">uiState</span><span class="s1"> === </span><span class="s6">"idle"</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">pendingCapture</span><span class="s1"> = </span><span class="s5">null</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">"SUBMIT"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">"none"</span><span class="s4">;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">resetDisplay</span><span class="s1">();</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s4">(</span><span class="s1">"CAPTURE FRAME"</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Starting live camera..."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">await</span><span class="s1"> </span><span class="s13">startLiveCamera</span><span class="s1">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"camera_on"</span><span class="s1">;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Camera ON </span><span class="s12">âœ…</span><span class="s1">\nPress CAPTURE FRAME to capture image first, then OCR (Submit will be shown after OCR)."</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">err</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span><span class="s6">"Camera failed: "</span><span class="s1"> + (</span><span class="s13">err</span><span class="s1"> &amp;&amp; </span><span class="s13">err</span><span class="s1">.</span><span class="s13">name</span><span class="s1"> ? (</span><span class="s13">err</span><span class="s1">.</span><span class="s13">name</span><span class="s1"> + </span><span class="s6">" - "</span><span class="s1"> + (</span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> || </span><span class="s6">""</span><span class="s1">)) : </span><span class="s14">String</span><span class="s1">(</span><span class="s13">err</span><span class="s1">)));</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">uiState</span><span class="s1"> === </span><span class="s6">"camera_on"</span><span class="s1">){</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s4">(</span><span class="s1">"PROCESSING..."</span><span class="s4">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Capturing image (freezing frame)..."</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">dataUrl</span><span class="s4"> = </span><span class="s1">captureDataUrlFull</span><span class="s4">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">stopLiveCamera</span><span class="s4">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">tAll0</span><span class="s4"> = </span><span class="s1">performance</span><span class="s4">.</span><span class="s1">now</span><span class="s4">();</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Image captured </span><span class="s12">âœ…</span><span class="s1">\nRunning OCR..."</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">tOcr0</span><span class="s4"> = </span><span class="s1">performance</span><span class="s4">.</span><span class="s1">now</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">let</span><span class="s1"> </span><span class="s13">r</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">try</span><span class="s1">{</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">r</span><span class="s1"> = </span><span class="s5">await</span><span class="s1"> </span><span class="s13">callServer</span><span class="s1">(</span><span class="s6">"visionExtract"</span><span class="s1">, [</span><span class="s13">dataUrl</span><span class="s1">]);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span><span class="s5">catch</span><span class="s1">(</span><span class="s13">err</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">msOcr</span><span class="s1"> = </span><span class="s13">_ms_</span><span class="s1">(</span><span class="s13">tOcr0</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"ERROR: OCR call failed\n"</span><span class="s4"> +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>(</span><span class="s13">err</span><span class="s1"> &amp;&amp; </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> ? </span><span class="s13">err</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> : </span><span class="s14">String</span><span class="s1">(</span><span class="s13">err</span><span class="s1">)) +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"\n\nTIMING:\nOCR call: "</span><span class="s4"> + </span><span class="s13">msOcr</span><span class="s4"> + </span><span class="s1">" ms"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">msOcr</span><span class="s1"> = </span><span class="s13">_ms_</span><span class="s1">(</span><span class="s13">tOcr0</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">if</span><span class="s1"> (!</span><span class="s13">r</span><span class="s1"> || !</span><span class="s13">r</span><span class="s1">.</span><span class="s13">ok</span><span class="s1">){</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">const</span><span class="s1"> </span><span class="s13">msAll</span><span class="s1"> = </span><span class="s13">_ms_</span><span class="s1">(</span><span class="s13">tAll0</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">callServerNoWait</span><span class="s1">(</span><span class="s6">"postFailTasks"</span><span class="s1">, [</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s13">dataUrl</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>(</span><span class="s13">r</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">message</span><span class="s1">) ? </span><span class="s13">r</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> : </span><span class="s6">"OCR failed"</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>(</span><span class="s13">r</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">rawText</span><span class="s1">) ? </span><span class="s13">r</span><span class="s1">.</span><span class="s13">rawText</span><span class="s1"> : </span><span class="s6">""</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>]);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"ERROR: OCR failed.\n"</span><span class="s4"> +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>(</span><span class="s13">r</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> ? </span><span class="s13">r</span><span class="s1">.</span><span class="s13">message</span><span class="s1"> : </span><span class="s6">"Unknown OCR error"</span><span class="s1">) +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s6">"\n\nERROR DETAIL:\n"</span><span class="s1"> + (</span><span class="s13">r</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">error</span><span class="s1"> ? </span><span class="s13">r</span><span class="s1">.</span><span class="s13">error</span><span class="s1"> : </span><span class="s6">""</span><span class="s1">) +</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s6">"\n\nRAW:\n"</span><span class="s1"> + (</span><span class="s13">r</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">rawText</span><span class="s1"> ? </span><span class="s13">r</span><span class="s1">.</span><span class="s13">rawText</span><span class="s1"> : </span><span class="s6">""</span><span class="s1">) +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"\n\nTIMING:\nOCR call: "</span><span class="s4"> + </span><span class="s13">msOcr</span><span class="s4"> + </span><span class="s1">" ms\nTOTAL: "</span><span class="s4"> + </span><span class="s13">msAll</span><span class="s4"> + </span><span class="s1">" ms"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"idle"</span><span class="s1">;</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"memberId"</span><span class="s1">, </span><span class="s13">r</span><span class="s1">.</span><span class="s13">memberId</span><span class="s1"> || </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"memberName"</span><span class="s1">, </span><span class="s13">r</span><span class="s1">.</span><span class="s13">memberName</span><span class="s1"> || </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"itemName"</span><span class="s1">, </span><span class="s13">r</span><span class="s1">.</span><span class="s13">itemName</span><span class="s1"> || </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setText</span><span class="s1">(</span><span class="s6">"capW"</span><span class="s1">, (</span><span class="s13">r</span><span class="s1">.</span><span class="s13">weight</span><span class="s1"> !== </span><span class="s5">undefined</span><span class="s1"> &amp;&amp; </span><span class="s13">r</span><span class="s1">.</span><span class="s13">weight</span><span class="s1"> !== </span><span class="s5">null</span><span class="s1">) ? </span><span class="s14">String</span><span class="s1">(</span><span class="s13">r</span><span class="s1">.</span><span class="s13">weight</span><span class="s1">) : </span><span class="s6">"-"</span><span class="s1">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">pendingCapture</span><span class="s1"> = {</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">memberId</span><span class="s4">: </span><span class="s1">r</span><span class="s4">.</span><span class="s1">memberId</span><span class="s4">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">itemName</span><span class="s4">: </span><span class="s1">r</span><span class="s4">.</span><span class="s1">itemName</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">weight</span><span class="s1">: </span><span class="s13">r</span><span class="s1">.</span><span class="s13">weight</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s13">dataUrl</span><span class="s1">: </span><span class="s13">dataUrl</span><span class="s1">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">ocrMemberName</span><span class="s4">: </span><span class="s1">r</span><span class="s4">.</span><span class="s1">memberName</span><span class="s4"> || </span><span class="s6">""</span><span class="s4">,</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">ocrItemName</span><span class="s4">: </span><span class="s1">r</span><span class="s4">.</span><span class="s1">itemName</span><span class="s4"> || </span><span class="s6">""</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>};</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">uiState</span><span class="s1"> = </span><span class="s6">"await_submit"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s1">(</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s6">"OCR DONE </span><span class="s15">âœ…</span><span class="s6">\n"</span><span class="s1"> +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"Press SUBMIT to upload &amp; sync to Google Sheet.\n\n"</span><span class="s4"> +</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span></span><span class="s1">"TIMING:\nOCR call: "</span><span class="s4"> + </span><span class="s13">msOcr</span><span class="s4"> + </span><span class="s1">" ms"</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s1">showSubmitButtonOnly</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span>}</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">resetDisplay</span><span class="s4">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s13">setBtn</span><span class="s1">(</span><span class="s6">"CAPTURE"</span><span class="s1">);</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s13">setStatus</span><span class="s4">(</span><span class="s1">"Press CAPTURE to start live camera."</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">"btnCapture"</span><span class="s4">).</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">"click"</span><span class="s4">, </span><span class="s1">captureClick</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">btnCaptureFixed</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">"click"</span><span class="s4">, </span><span class="s1">captureClick</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">btnSubmit</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">"click"</span><span class="s4">, </span><span class="s1">submitClick</span><span class="s4">);</span></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">btnReset</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">"click"</span><span class="s4">, </span><span class="s1">resetClick</span><span class="s4">);</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p11"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s1">showCaptureButtons</span><span class="s4">();</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s10"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"overlayDone"</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"overlayDone"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"overlayCard"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"overlayTick"</span><span class="s3">&gt;</span><span class="s16">âœ…</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">class</span><span class="s3">=</span><span class="s6">"overlayText"</span><span class="s3">&gt;</span><span class="s1">LOGGED COMPLETED</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">Â  Â  </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">Â  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
